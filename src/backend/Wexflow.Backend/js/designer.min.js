function authorize(e,t,n){set("authorize",'{"Username": "'+e+'", "Password":"'+t+'","UserProfile":'+n+"}")}function getUser(){return get("authorize")}function deleteUser(){remove("authorize")}function set(e,t){isIE()?setCookie(e,t,365):window.localStorage.setItem(e,t)}function get(e){return isIE()?getCookie(e):window.localStorage.getItem(e)}function remove(e){isIE()?setCookie(e,"",-365):window.localStorage.removeItem(e)}function setCookie(e,t,n){let o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);let i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function getCookie(e){let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}function isIE(){let e=navigator.userAgent;return e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}function jBoxWrapper(e){function t(n,o){return this.options={id:null,width:"auto",height:"auto",minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,responsiveWidth:!0,responsiveHeight:!0,responsiveMinWidth:100,responsiveMinHeight:100,attach:null,trigger:"click",preventDefault:!1,content:null,getContent:null,title:null,getTitle:null,footer:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getURL:"data-url",getData:"data-ajax",setContent:!0,loadingClass:!0,spinner:!0,spinnerDelay:300,spinnerReposition:!0},cancelAjaxOnClose:!0,target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},fixed:!1,adjustPosition:!0,adjustTracker:!1,adjustDistance:5,reposition:!0,repositionOnOpen:!0,repositionOnContent:!0,holdPosition:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:null,overlay:!1,overlayClass:null,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,appendTo:e("body"),createOnInit:!1,blockScroll:!1,blockScrollAdjust:!0,draggable:!1,dragOver:!0,autoClose:!1,delayOnHover:!1,showCountdown:!1,preloadAudio:!0,audio:null,volume:100,onInit:null,onAttach:null,onPosition:null,onCreated:null,onOpen:null,onClose:null,onCloseComplete:null,onDragStart:null,onDragEnd:null},this._pluginOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0},Mouse:{responsiveWidth:!1,responsiveHeight:!1,adjustPosition:"flip",target:"mouse",trigger:"mouseenter",position:{x:"right",y:"bottom"},outside:"xy",offset:5},Modal:{target:e(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomIn"}},this.options=e.extend(!0,this.options,this._pluginOptions[n]?this._pluginOptions[n]:t._pluginOptions[n],o),"string"==e.type(n)&&(this.type=n),this.isTouchDevice=function(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var t;return t=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(t).matches}(),this.isTouchDevice&&"mouseenter"===this.options.trigger&&!1===this.options.closeOnClick&&(this.options.closeOnClick="body"),this._fireEvent=function(e,t){this.options["_"+e]&&this.options["_"+e].bind(this)(t),this.options[e]&&this.options[e].bind(this)(t)},null===this.options.id&&(this.options.id="jBox"+t._getUniqueID()),this.id=this.options.id,("center"==this.options.position.x&&"x"==this.options.outside||"center"==this.options.position.y&&"y"==this.options.outside)&&(this.options.outside=null),"target"==this.options.pointTo&&(!this.options.outside||"xy"==this.options.outside)&&(this.options.pointer=!1),"object"!=e.type(this.options.offset)?this.options.offset={x:this.options.offset,y:this.options.offset}:this.options.offset=e.extend({x:0,y:0},this.options.offset),"object"!=e.type(this.options.adjustDistance)?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=e.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.outside=!(!this.options.outside||"xy"==this.options.outside)&&this.options.position[this.options.outside],this.align=this.outside?this.outside:"center"!=this.options.position.y&&"number"!=e.type(this.options.position.y)?this.options.position.x:"center"!=this.options.position.x&&"number"!=e.type(this.options.position.x)?this.options.position.y:this.options.attributes.x,t.zIndexMax=Math.max(t.zIndexMax||0,"auto"===this.options.zIndex?1e4:this.options.zIndex),"auto"===this.options.zIndex&&(this.adjustZIndexOnOpen=!0,t.zIndexMax+=2,this.options.zIndex=t.zIndexMax,this.trueModal=this.options.overlay),this._getOpp=function(e){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[e]},this._getXY=function(e){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[e]},this._getTL=function(e){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[e]},this._getInt=function(t,n){return"auto"==t?"auto":t&&"string"==e.type(t)&&"%"==t.slice(-1)?e(window)["height"==n?"innerHeight":"innerWidth"]()*parseInt(t.replace("%",""))/100:t},this._createSVG=function(t,n){var o=document.createElementNS("http://www.w3.org/2000/svg",t);return e.each(n,function(e,t){o.setAttribute(t[0],t[1]||"")}),o},this._isolateScroll=function(e){e&&e.length&&e.on("DOMMouseScroll.jBoxIsolateScroll mousewheel.jBoxIsolateScroll",function(t){var n=t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail,o=0<=this.scrollTop+e.outerHeight()-this.scrollHeight,i=this.scrollTop<=0;(n<0&&o||0<n&&i)&&t.preventDefault()})},this._setTitleWidth=function(){if(!this.titleContainer||"auto"==this.content[0].style.width&&!this.content[0].style.maxWidth)return null;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var e=this.content.outerWidth();this.wrapper.css("display","none")}else e=this.content.outerWidth();this.titleContainer.css({maxWidth:Math.max(e,parseInt(this.content[0].style.maxWidth))||null})},this._draggable=function(){if(!this.options.draggable)return!1;var n="title"==this.options.draggable?this.titleContainer:this.options.draggable instanceof e?this.options.draggable:"string"==e.type(this.options.draggable)?e(this.options.draggable):this.wrapper;return!(!(n&&n instanceof e&&n.length)||n.data("jBox-draggable"))&&(n.addClass("jBox-draggable").data("jBox-draggable",!0).on("touchstart mousedown",function(n){if(2!=n.button&&!e(n.target).hasClass("jBox-noDrag")&&!e(n.target).parents(".jBox-noDrag").length){this.draggingStartX=n.pageX,this.draggingStartY=n.pageY,this.options.dragOver&&!this.trueModal&&parseInt(this.wrapper.css("zIndex"),10)<=t.zIndexMaxDragover&&(t.zIndexMaxDragover+=1,this.wrapper.css("zIndex",t.zIndexMaxDragover));var o=this.wrapper.outerHeight(),i=this.wrapper.outerWidth(),s=this.wrapper.offset().top+o-n.pageY,r=this.wrapper.offset().left+i-n.pageX;e(document).on("touchmove.jBox-draggable-"+this.id+" mousemove.jBox-draggable-"+this.id,function(e){this.dragging||this.draggingStartX==e.pageX||this.draggingStartY==e.pageY||(this._fireEvent("onDragStart"),this.dragging=!0),this.wrapper.offset({top:e.pageY+s-o,left:e.pageX+r-i})}.bind(this)),n.preventDefault()}}.bind(this)).on("touchend mouseup",function(){if(e(document).off("touchmove.jBox-draggable-"+this.id+" mousemove.jBox-draggable-"+this.id),this.dragging&&this._fireEvent("onDragEnd"),this.dragging=!1,("Modal"==this.type||"Confirm"==this.type)&&this.options.holdPosition){var t=e("#"+this.id).offset(),n={x:t.left-e(document).scrollLeft(),y:t.top-e(document).scrollTop()};this.position({position:n,offset:{x:0,y:0}})}}.bind(this)),this.trueModal||(t.zIndexMaxDragover=t.zIndexMaxDragover?Math.max(t.zIndexMaxDragover,this.options.zIndex):this.options.zIndex),this)},this._create=function(){if(!this.wrapper){if(this.wrapper=e("<div/>",{id:this.id,class:"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.on("mouseleave",function(t){!this.source||t.relatedTarget!=this.source[0]&&-1===e.inArray(this.source[0],e(t.relatedTarget).parents("*"))&&this.close()}.bind(this)),"box"==this.options.closeOnClick&&this.wrapper.on("click",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=e('<div class="jBox-container"/>').appendTo(this.wrapper),this.content=e('<div class="jBox-content"/>').appendTo(this.container),this.options.footer&&(this.footer=e('<div class="jBox-footer"/>').append(this.options.footer).appendTo(this.container)),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton){var t=this._createSVG("svg",[["viewBox","0 0 24 24"]]);t.appendChild(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]])),this.closeButton=e('<div class="jBox-closeButton jBox-noDrag"/>').on("click",function(e){this.close({ignoreDelay:!0})}.bind(this)).append(t),"box"!=this.options.closeButton&&(!0!==this.options.closeButton||this.options.overlay||this.options.title||this.options.getTitle)||(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))}if(this.wrapper.appendTo(this.options.appendTo),this.wrapper.find(".jBox-closeButton").length&&e.each(["top","right","bottom","left"],function(e,t){this.wrapper.find(".jBox-closeButton").css(t)&&"auto"!=this.wrapper.find(".jBox-closeButton").css(t)&&(this.options.adjustDistance[t]=Math.max(this.options.adjustDistance[t],this.options.adjustDistance[t]+-1*((parseInt(this.wrapper.find(".jBox-closeButton").css(t))||0)+(parseInt(this.container.css("border-"+t+"-width"))||0))))}.bind(this)),this.options.pointer){if(this.pointer={position:"target"!=this.options.pointTo?this.options.pointTo:this._getOpp(this.outside),xy:"target"!=this.options.pointTo?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=e('<div class="jBox-pointer jBox-pointer-'+this.pointer.position+'"/>').appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},"string"==e.type(this.options.pointer)){var n=this.options.pointer.split(":");n[0]&&(this.pointer.align=n[0]),n[1]&&(this.pointer.offset=parseInt(n[1]))}this.pointer.alignAttribute="x"==this.pointer.xy?"bottom"==this.pointer.align?"bottom":"top":"right"==this.pointer.align?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,"center"==this.pointer.align?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,"center"==this.pointer.align&&this.pointer.element.css("transform","translate("+("y"==this.pointer.xy?-.5*this.pointer.dimensions.x+"px":0)+", "+("x"==this.pointer.xy?-.5*this.pointer.dimensions.y+"px":0)+")"),this.pointer.element.css("x"==this.pointer.xy?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)}this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable&&this._draggable(),this._fireEvent("onCreated")}},this.options.createOnInit&&this._create(),this.options.attach&&this.attach(),this._attachEvents=function(){this.options.delayOnHover&&e("#"+this.id).on("mouseenter",function(e){this.isHovered=!0}.bind(this)),this.options.delayOnHover&&e("#"+this.id).on("mouseleave",function(e){this.isHovered=!1}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&!this.fixed&&this.outside&&(this.options.adjustTracker&&e(window).on("scroll.jBox-"+this.id,function(e){this.position()}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&e(window).on("resize.jBox-"+this.id,function(e){this.position()}.bind(this))),"mouse"==this.options.target&&e("body").on("mousemove.jBox-"+this.id,function(e){this.position({mouseTarget:{top:e.pageY,left:e.pageX}})}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&e(document).off("keyup.jBox-"+this.id),(!0===this.options.closeOnClick||"body"==this.options.closeOnClick)&&e(document).off("click.jBox-"+this.id),this.options.adjustTracker&&e(window).off("scroll.jBox-"+this.id),(this.options.adjustPosition||this.options.reposition)&&e(window).off("resize.jBox-"+this.id),"mouse"==this.options.target&&e("body").off("mousemove.jBox-"+this.id)},this._showOverlay=function(){this.overlay||(this.overlay=e('<div id="'+this.id+'-overlay"/>').addClass("jBox-overlay"+(this.type?" jBox-overlay-"+this.type:"")).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(this.options.appendTo),this.options.overlayClass&&this.overlay.addClass(this.options.overlayClass),("overlay"==this.options.closeButton||!0===this.options.closeButton)&&this.overlay.append(this.closeButton),"overlay"==this.options.closeOnClick&&this.overlay.on("click",function(){this.close({ignoreDelay:!0})}.bind(this)),e("#"+this.id+"-overlay .jBox-closeButton").length&&(this.options.adjustDistance.top=Math.max(e("#"+this.id+"-overlay .jBox-closeButton").outerHeight(),this.options.adjustDistance.top))),!0===this.adjustZIndexOnOpen&&this.overlay.css("zIndex",parseInt(this.wrapper.css("zIndex"),10)-1),"block"!=this.overlay.css("display")&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._hideOverlay=function(){this.overlay&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))},this._exposeDimensions=function(){this.wrapper.css({top:-1e4,left:-1e4,right:"auto",bottom:"auto"});var e={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()};return this.wrapper.css({top:"auto",left:"auto"}),e},this._generateAnimationCSS=function(){if("object"!=e.type(this.options.animation)&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),!this.options.animation)return null;this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open[1]?this.options.animation.open[1]:null,this.options.animation.closeDirection=this.options.animation.close[1]?this.options.animation.close[1]:null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var t={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};e.each(["pulse","tada"],function(e,n){t[n+"Open"]=t[n+"Close"]=t[n]});var n=function(n,o){return keyframe_css="@keyframes jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(o?"-"+o:"")+" {",e.each(t[this.options.animation[n]].css,function(e,i){var s=o?i[1].replace("%XY",this._getXY(o).toUpperCase()):i[1];t[this.options.animation[n]].positions&&(s=s.replace("%V",t[this.options.animation[n]].positions[o][i[0]])),keyframe_css+=i[0]+" {transform:"+s+";}"}.bind(this)),keyframe_css+="}",keyframe_css+=".jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(o?"-"+o:"")+" {",keyframe_css+="animation-duration: "+t[this.options.animation[n]].duration+"ms;",keyframe_css+="animation-name: jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(o?"-"+o:"")+";",keyframe_css+=t[this.options.animation[n]].timing?"animation-timing-function: "+t[this.options.animation[n]].timing+";":"",keyframe_css+="}",keyframe_css}.bind(this);this._animationCSS="",e.each(["open","close"],function(o,i){if(!this.options.animation[i]||!t[this.options.animation[i]]||"close"==i&&!this.options.fade)return"";t[this.options.animation[i]].positions?e.each(["top","right","bottom","left"],function(e,t){this._animationCSS+=n(i,t)}.bind(this)):this._animationCSS+=n(i)}.bind(this))},this.options.animation&&this._generateAnimationCSS(),this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this._animate=function(e){if(!e&&(e=this.isOpen?"open":"close"),!this.options.fade&&"close"==e)return null;var t=this.options.animation[e+"Direction"]||("center"!=this.align?this.align:this.options.attributes.x);this.flipped&&this._getXY(t)==this._getXY(this.align)&&(t=this._getOpp(t));var n="jBox-"+this.id+"-animation-"+this.options.animation[e]+"-"+e+" jBox-"+this.id+"-animation-"+this.options.animation[e]+"-"+e+"-"+t;this.wrapper.addClass(n);var o=1e3*parseFloat(this.wrapper.css("animation-duration"));"close"==e&&(o=Math.min(o,this.options.fade)),setTimeout(function(){this.wrapper.removeClass(n)}.bind(this),o)},this._abortAnimation=function(){var e=this.wrapper.attr("class").split(" ").filter(function(e){return 0!==e.lastIndexOf("jBox-"+this.id+"-animation",0)}.bind(this));this.wrapper.attr("class",e.join(" "))},(this.options.responsiveWidth||this.options.responsiveHeight)&&e(window).on("resize.responsivejBox-"+this.id,function(e){this.isOpen&&this.position()}.bind(this)),"string"===e.type(this.options.preloadAudio)&&(this.options.preloadAudio=[this.options.preloadAudio]),"string"===e.type(this.options.audio)&&(this.options.audio={open:this.options.audio}),"number"===e.type(this.options.volume)&&(this.options.volume={open:this.options.volume,close:this.options.volume}),!0===this.options.preloadAudio&&this.options.audio&&(this.options.preloadAudio=[],e.each(this.options.audio,function(e,t){this.options.preloadAudio.push(t+".mp3"),this.options.preloadAudio.push(t+".ogg")}.bind(this))),this.options.preloadAudio.length&&e.each(this.options.preloadAudio,function(e,t){var n=new Audio;n.src=t,n.preload="auto"}),this._fireEvent("onInit"),this}var n,o;return t.prototype.attach=function(t,n){return!t&&(t=this.options.attach),"string"==e.type(t)&&(t=e(t)),!n&&(n=this.options.trigger),t&&t.length&&e.each(t,function(t,o){(o=e(o)).data("jBox-attached-"+this.id)||("title"==this.options.getContent&&null!=o.attr("title")&&o.data("jBox-getContent",o.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(o[0]),o.on(n+".jBox-attach-"+this.id,function(e){if(this.timer&&clearTimeout(this.timer),"mouseenter"!=n||!this.isOpen||this.source[0]!=o[0]){if(this.isOpen&&this.source&&this.source[0]!=o[0])var t=!0;this.source=o,!this.options.target&&(this.target=o),"click"==n&&this.options.preventDefault&&e.preventDefault(),this["click"!=n||t?"open":"toggle"]()}}.bind(this)),"mouseenter"==this.options.trigger&&o.on("mouseleave",function(t){if(!this.wrapper)return null;this.options.closeOnMouseleave&&(t.relatedTarget==this.wrapper[0]||e(t.relatedTarget).parents("#"+this.id).length)||this.close()}.bind(this)),o.data("jBox-attached-"+this.id,n),this._fireEvent("onAttach",o))}.bind(this)),this},t.prototype.detach=function(t){return!t&&(t=this.attachedElements||[]),t&&t.length&&e.each(t,function(t,n){(n=e(n)).data("jBox-attached-"+this.id)&&(n.off(n.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),n.data("jBox-attached-"+this.id,null)),this.attachedElements=e.grep(this.attachedElements,function(e){return e!=n[0]})}.bind(this)),this},t.prototype.setTitle=function(t,n){if(null==t||null==t)return this;!this.wrapper&&this._create();var o=this.wrapper.outerHeight(),i=this.wrapper.outerWidth();return this.title||(this.titleContainer=e('<div class="jBox-title"/>'),this.title=e("<div/>").appendTo(this.titleContainer),("title"==this.options.closeButton||!0===this.options.closeButton&&!this.options.overlay)&&(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content),this._setTitleWidth()),this.wrapper[t?"addClass":"removeClass"]("jBox-hasTitle"),this.title.html(t),i!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!n&&this.options.repositionOnContent&&(o!=this.wrapper.outerHeight()||i!=this.wrapper.outerWidth())&&this.position(),this},t.prototype.setContent=function(t,n){if(null==t||null==t)return this;!this.wrapper&&this._create();var o=this.wrapper.outerHeight(),i=this.wrapper.outerWidth();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),e.type(t)){case"string":this.content.html(t);break;case"object":t instanceof e?(this.content.html(""),t.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})):this.content.html(JSON.stringify(t))}return i!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!n&&this.options.repositionOnContent&&(o!=this.wrapper.outerHeight()||i!=this.wrapper.outerWidth())&&this.position(),this},t.prototype.setDimensions=function(e,t,n){!this.wrapper&&this._create(),null==t&&(t="auto"),this.content.css(e,this._getInt(t)),"width"==e&&this._setTitleWidth(),(null==n||n)&&this.position()},t.prototype.setWidth=function(e,t){this.setDimensions("width",e,t)},t.prototype.setHeight=function(e,t){this.setDimensions("height",e,t)},t.prototype.position=function(t){if(!t&&(t={}),t=e.extend(!0,this.options,t),this.target=t.target||this.target||e(window),!(this.target instanceof e||"mouse"==this.target)&&(this.target=e(this.target)),!this.target.length)return this;this.content.css({width:this._getInt(t.width,"width"),height:this._getInt(t.height,"height"),minWidth:this._getInt(t.minWidth,"width"),minHeight:this._getInt(t.minHeight,"height"),maxWidth:this._getInt(t.maxWidth,"width"),maxHeight:this._getInt(t.maxHeight,"height")}),this._setTitleWidth();var n=this._exposeDimensions();"mouse"!=this.target&&!this.target.data("jBox-"+this.id+"-fixed")&&this.target.data("jBox-"+this.id+"-fixed",this.target[0]!=e(window)[0]&&("fixed"==this.target.css("position")||0<this.target.parents().filter(function(){return"fixed"==e(this).css("position")}).length)?"fixed":"static");var o={x:e(window).outerWidth(),y:e(window).outerHeight(),top:t.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:e(window).scrollTop(),left:t.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:e(window).scrollLeft()};o.bottom=o.top+o.y,o.right=o.left+o.x;try{var i=this.target.offset()}catch(e){i={top:0,left:0}}"mouse"!=this.target&&"fixed"==this.target.data("jBox-"+this.id+"-fixed")&&t.fixed&&(i.top=i.top-e(window).scrollTop(),i.left=i.left-e(window).scrollLeft());var s={x:"mouse"==this.target?12:this.target.outerWidth(),y:"mouse"==this.target?20:this.target.outerHeight(),top:"mouse"==this.target&&t.mouseTarget?t.mouseTarget.top:i?i.top:0,left:"mouse"==this.target&&t.mouseTarget?t.mouseTarget.left:i?i.left:0},r=t.outside&&!("center"==t.position.x&&"center"==t.position.y),a={x:o.x-t.adjustDistance.left-t.adjustDistance.right,y:o.y-t.adjustDistance.top-t.adjustDistance.bottom,left:r?s.left-e(window).scrollLeft()-t.adjustDistance.left:0,right:r?o.x-s.left+e(window).scrollLeft()-s.x-t.adjustDistance.right:0,top:r?s.top-e(window).scrollTop()-this.options.adjustDistance.top:0,bottom:r?o.y-s.top+e(window).scrollTop()-s.y-t.adjustDistance.bottom:0},l={x:"x"!=t.outside&&"xy"!=t.outside||"number"==e.type(t.position.x)?null:t.position.x,y:"y"!=t.outside&&"xy"!=t.outside||"number"==e.type(t.position.y)?null:t.position.y},c={x:!1,y:!1};if(l.x&&n.x>a[l.x]&&a[this._getOpp(l.x)]>a[l.x]&&(l.x=this._getOpp(l.x))&&(c.x=!0),l.y&&n.y>a[l.y]&&a[this._getOpp(l.y)]>a[l.y]&&(l.y=this._getOpp(l.y))&&(c.y=!0),t.responsiveWidth||t.responsiveHeight){var u=function(){if(t.responsiveWidth&&n.x>a[l.x||"x"]){var e=a[l.x||"x"]-(this.pointer&&r&&"x"==t.outside?this.pointer.dimensions.x:0)-parseInt(this.container.css("border-left-width"))-parseInt(this.container.css("border-right-width"));this.content.css({width:e>this.options.responsiveMinWidth?e:null,minWidth:e<parseInt(this.content.css("minWidth"))?0:null}),this._setTitleWidth()}n=this._exposeDimensions()}.bind(this);t.responsiveWidth&&u(),t.responsiveWidth&&!c.y&&l.y&&n.y>a[l.y]&&a[this._getOpp(l.y)]>a[l.y]&&(l.y=this._getOpp(l.y))&&(c.y=!0);var d=function(){if(t.responsiveHeight&&n.y>a[l.y||"y"]){var e=function(){if(!this.titleContainer&&!this.footer)return 0;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var e=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);this.wrapper.css("display","none")}else e=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);return e||0}.bind(this),o=a[l.y||"y"]-(this.pointer&&r&&"y"==t.outside?this.pointer.dimensions.y:0)-e()-parseInt(this.container.css("border-top-width"))-parseInt(this.container.css("border-bottom-width"));this.content.css({height:o>this.options.responsiveMinHeight?o:null}),this._setTitleWidth()}n=this._exposeDimensions()}.bind(this);t.responsiveHeight&&d(),t.responsiveHeight&&!c.x&&l.x&&n.x>a[l.x]&&a[this._getOpp(l.x)]>a[l.x]&&(l.x=this._getOpp(l.x))&&(c.x=!0),t.adjustPosition&&"move"!=t.adjustPosition&&(c.x&&u(),c.y&&d())}var p={},f=function(o){if("number"!=e.type(t.position[o])){var i=t.attributes[o]="x"==o?"left":"top";if(p[i]=s[i],"center"==t.position[o])return p[i]+=Math.ceil((s[o]-n[o])/2),void("mouse"!=this.target&&this.target[0]&&this.target[0]==e(window)[0]&&(p[i]+=.5*(t.adjustDistance[i]-t.adjustDistance[this._getOpp(i)])));i!=t.position[o]&&(p[i]+=s[o]-n[o]),(t.outside==o||"xy"==t.outside)&&(p[i]+=n[o]*(i!=t.position[o]?1:-1))}else p[t.attributes[o]]=t.position[o]}.bind(this);if(f("x"),f("y"),this.pointer&&"target"==t.pointTo&&"number"!=e.type(t.position.x)&&"number"!=e.type(t.position.y)){var h=0;switch(this.pointer.align){case"center":"center"!=t.position[this._getOpp(t.outside)]&&(h+=n[this._getOpp(t.outside)]/2);break;default:switch(t.position[this._getOpp(t.outside)]){case"center":h+=(n[this._getOpp(t.outside)]/2-this.pointer.dimensions[this._getOpp(t.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1);break;default:h+=this.pointer.align!=t.position[this._getOpp(t.outside)]?this.dimensions[this._getOpp(t.outside)]*(-1!==e.inArray(this.pointer.align,["top","left"])?1:-1)+this.pointer.dimensions[this._getOpp(t.outside)]/2*(-1!==e.inArray(this.pointer.align,["top","left"])?-1:1):this.pointer.dimensions[this._getOpp(t.outside)]/2*(-1!==e.inArray(this.pointer.align,["top","left"])?1:-1)}}h*=t.position[this._getOpp(t.outside)]==this.pointer.alignAttribute?-1:1,h+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),p[this._getTL(this._getOpp(this.pointer.xy))]+=h}if(p[t.attributes.x]+=t.offset.x,p[t.attributes.y]+=t.offset.y,this.wrapper.css(p),t.adjustPosition){this.positionAdjusted&&(this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var m=o.top>p.top-(t.adjustDistance.top||0),g=o.right<p.left+n.x+(t.adjustDistance.right||0),y=o.bottom<p.top+n.y+(t.adjustDistance.bottom||0),v=o.left>p.left-(t.adjustDistance.left||0),w=v?"left":g?"right":null,x=m?"top":y?"bottom":null;if(w||x){if(("Modal"==this.type||"Confirm"==this.type)&&"number"==e.type(this.options.position.x)&&"number"==e.type(this.options.position.y)){var b=0,k=0;return this.options.holdPosition&&(v?b=o.left-(p.left-(t.adjustDistance.left||0)):g&&(b=o.right-(p.left+n.x+(t.adjustDistance.right||0))),m?k=o.top-(p.top-(t.adjustDistance.top||0)):y&&(k=o.bottom-(p.top+n.y+(t.adjustDistance.bottom||0))),this.options.position.x=Math.max(o.top,this.options.position.x+b),this.options.position.y=Math.max(o.left,this.options.position.y+k),f("x"),f("y"),this.wrapper.css(p)),this._fireEvent("onPosition"),this}if(!0===t.adjustPosition||"flip"===t.adjustPosition){var I=function(e){this.wrapper.css(this._getTL(e),p[this._getTL(e)]+(n[this._getXY(e)]+t.offset[this._getXY(e)]*("top"==e||"left"==e?-2:2)+s[this._getXY(e)])*("top"==e||"left"==e?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+e,this.pointer.dimensions[this._getXY(e)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+e),this.positionAdjusted=!0,this.flipped=!0}.bind(this);c.x&&I(this.options.position.x),c.y&&I(this.options.position.y)}var C="x"==this._getXY(this.outside)?x:w;if(this.pointer&&"target"==t.pointTo&&"flip"!=t.adjustPosition&&this._getXY(C)==this._getOpp(this._getXY(this.outside))){
if("center"==this.pointer.align)var E=n[this._getXY(C)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(C!=this._getTL(C)?-1:1);else E=C==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):n[this._getXY(C)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(C)];var B=C==this._getTL(C)?o[this._getTL(C)]-p[this._getTL(C)]+t.adjustDistance[C]:-1*(o[this._getOpp(this._getTL(C))]-p[this._getTL(C)]-t.adjustDistance[C]-n[this._getXY(C)]);C==this._getOpp(this._getTL(C))&&p[this._getTL(C)]-B<o[this._getTL(C)]+t.adjustDistance[this._getTL(C)]&&(B-=o[this._getTL(C)]+t.adjustDistance[this._getTL(C)]-(this.pos[this._getTL(C)]-B)),(B=Math.min(B,E))<=E&&0<B&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-B*(C!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(C),p[this._getTL(C)]+B*(C!=this._getTL(C)?-1:1)),this.positionAdjusted=!0)}}}return this._fireEvent("onPosition"),this},(t.prototype.unscroll=function(e){if(this.set=function(e,t){window.unscrollStore||(window.unscrollStore={}),window.unscrollStore[e]=t},this.get=function(e){return window.unscrollStore?window.unscrollStore[e]:null},this.getScrollbarWidth=function(){if(this.get("scrollbarWidth"))return this.get("scrollbarWidth")+"px";var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-10000",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.set("scrollbarWidth",t),t+"px"},this.getElementsToAdjust=function(e){!e&&(e=[]),"string"==typeof e&&(e=[[e,"padding-right"]]),e.forEach(function(t,n){"string"==typeof t&&(e[n]=[t,"padding-right"])});for(var t=!1,n=0;n<e.length;n++)-1!==e[n][0].indexOf("body")&&(t=!0);return!1===t&&e.push(["body","padding-right"]),e},this.pageHasScrollbar=function(){return this.getScrollbarWidth()&&document.body.offsetHeight>window.innerHeight},this.pageHasScrollbar()){e=this.getElementsToAdjust(e);for(var t=0;t<e.length;t++)for(var n=document.querySelectorAll(e[t][0]),o=0;o<n.length;o++){if(n[o].getAttribute("data-unscroll"))return;var i=e[t][1],s=window.getComputedStyle(n[o]).getPropertyValue(i);n[o].setAttribute("data-unscroll",i),s||(s="0px");var r="padding-right"==i||"right"==i?"+":"-";n[o].style[i]="calc("+s+" "+r+" "+this.getScrollbarWidth()+")"}}!function(){if(!document.getElementById("unscroll-class-name")){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.setAttribute("id","unscroll-class-name"),t.appendChild(document.createTextNode(".unscrollable { overflow: hidden !important; }")),e.appendChild(t)}}(),document.body.classList.add("unscrollable")}).reset=function(){for(var e=document.querySelectorAll("[data-unscroll]"),t=0;t<e.length;t++){var n=e[t].getAttribute("data-unscroll");e[t].style[n]=null,e[t].removeAttribute("data-unscroll")}document.body.classList.remove("unscrollable")},t.prototype.open=function(n){if(!n&&(n={}),this.isDestroyed)return this;if(!this.wrapper&&this._create(),!this._styles&&(this._styles=e("<style/>").append(this._animationCSS).appendTo(e("head"))),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;this.options.closeOnEsc&&e(document).on("keyup.jBox-"+this.id,function(e){27==e.keyCode&&this.close({ignoreDelay:!0})}.bind(this)),!0!==this.options.closeOnClick&&"body"!==this.options.closeOnClick||(e("body").on("click.jBox-"+this.id,function(e){this.blockBodyClick||"body"==this.options.closeOnClick&&(e.target==this.wrapper[0]||this.wrapper.has(e.target).length)||this.close({ignoreDelay:!0})}.bind(this)),this.isTouchDevice&&e("body > *").on("click.jBox-"+this.id,function(){return!0}));var o=function(){!0===this.adjustZIndexOnOpen&&(t.zIndexMax=Math.max(parseInt(this.wrapper.css("zIndex"),10),this.options.zIndex,t.zIndexMax||0,t.zIndexMaxDragover||0)+2,this.wrapper.css("zIndex",t.zIndexMax),this.options.zIndex=t.zIndexMax),this.source&&this.options.getTitle&&this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle),!0),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):"html"==this.options.getContent&&this.setContent(this.source.html(),!0)),this._fireEvent("onOpen"),(this.options.ajax&&(this.options.ajax.url||this.source&&this.source.attr(this.options.ajax.getURL))&&(!this.ajaxLoaded||this.options.ajax.reload)||n.ajax&&(n.ajax.url||n.ajax.data))&&("strict"==this.options.ajax.reload||!this.source||!this.source.data("jBox-ajax-data")||n.ajax&&(n.ajax.url||n.ajax.data)?this.ajax(n.ajax||null,!0):this.setContent(this.source.data("jBox-ajax-data"))),(!this.positionedOnOpen||this.options.repositionOnOpen)&&this.position(n)&&(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this.options.autoClose&&(this.options.delayClose=this.options.autoClose)&&this.close(),this._attachEvents(),this.options.blockScroll&&(this.options.blockScrollAdjust?t.blockScrollScopes?t.blockScrollScopes++:(t.blockScrollScopes=1,this.unscroll(Array.isArray(this.options.blockScrollAdjust)||"string"==typeof this.options.blockScrollAdjust?this.options.blockScrollAdjust:null)):e("body").addClass("jBox-blockScroll-"+this.id)),this.options.overlay&&(this._showOverlay(),this.position()),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.audio&&this.options.audio.open&&this.audio(this.options.audio.open,this.options.volume.open),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),always:function(){this.isOpening=!1,setTimeout(function(){this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)}.bind(this),10)}.bind(this)}):(this.wrapper.css({display:"block",opacity:1}),this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||n.ignoreDelay?o():this.timer=setTimeout(o,this.options.delayOpen),this},t.prototype.close=function(n){if(n||(n={}),e("body").off("click.jBox-"+this.id),this.isTouchDevice&&e("body > *").off("click.jBox-"+this.id),this.isDestroyed||this.isClosing)return this;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var o=function(){if(this._fireEvent("onClose"),this.options.cancelAjaxOnClose&&this.cancelAjax(),this.isOpen){this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&(this.options.blockScrollAdjust?!(t.blockScrollScopes=t.blockScrollScopes?--t.blockScrollScopes:0)&&this.unscroll.reset():e("body").removeClass("jBox-blockScroll-"+this.id)),this.options.overlay&&this._hideOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.audio&&this.options.audio.close&&this.audio(this.options.audio.close,this.options.volume.close);var n=this.isTouchDevice&&"mouse"==this.options.target?0:this.options.fade;n?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:n,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this._fireEvent("onCloseComplete")}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this._fireEvent("onCloseComplete"))}}.bind(this);if(n.ignoreDelay||this.isTouchDevice&&"mouse"==this.options.target)o();else if((this.options.delayOnHover||this.options.showCountdown)&&10<this.options.delayClose){var i=this,s=this.options.delayClose,r=Date.now();if(this.options.showCountdown&&!this.inner){var a=e('<div class="jBox-countdown" />');this.inner=e('<div class="jBox-countdown-inner" />'),a.prepend(this.inner),e("#"+this.id).append(a)}this.countdown=function(){var e=Date.now();i.isHovered||(s-=e-r),r=e,0<s?(i.options.showCountdown&&i.inner.css("width",100*s/i.options.delayClose+"%"),window.requestAnimationFrame(i.countdown)):o()},window.requestAnimationFrame(this.countdown)}else this.timer=setTimeout(o,Math.max(this.options.delayClose,10));return this},t.prototype.toggle=function(e){return this[this.isOpen?"close":"open"](e),this},t.prototype.disable=function(){return this.isDisabled=!0,this},t.prototype.enable=function(){return this.isDisabled=!1,this},t.prototype.hide=function(){return this.disable(),this.wrapper&&this.wrapper.css({display:"none"}),this},t.prototype.show=function(){return this.enable(),this.wrapper&&this.wrapper.css({display:"block"}),this},t.prototype.ajax=function(t,n){t||(t={}),e.each([["getData","data"],["getURL","url"]],function(e,n){this.options.ajax[n[0]]&&!t[n[1]]&&this.source&&null!=this.source.attr(this.options.ajax[n[0]])&&(t[n[1]]=this.source.attr(this.options.ajax[n[0]])||"")}.bind(this));var o=e.extend(!0,{},this.options.ajax);this.cancelAjax();var i=t.beforeSend||o.beforeSend||function(){},s=t.complete||o.complete||function(){},r=t.success||o.success||function(){},a=t.error||o.error||function(){},l=e.extend(!0,o,t);return l.beforeSend=function(t){l.loadingClass&&this.wrapper.addClass(!0===l.loadingClass?"jBox-loading":l.loadingClass),l.spinner&&(this.spinnerDelay=setTimeout(function(){this.wrapper.addClass("jBox-loading-spinner"),l.spinnerReposition&&(n?this.positionOnFadeComplete=!0:this.position()),this.spinner=e(!0!==l.spinner?l.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container),this.titleContainer&&"absolute"==this.spinner.css("position")&&this.spinner.css({transform:"translateY("+.5*this.titleContainer.outerHeight()+"px)"})}.bind(this),""==this.content.html()?0:l.spinnerDelay||0)),i.bind(this)(t)}.bind(this),l.complete=function(e){this.spinnerDelay&&clearTimeout(this.spinnerDelay),this.wrapper.removeClass("jBox-loading jBox-loading-spinner jBox-loading-spinner-delay"),this.spinner&&this.spinner.length&&this.spinner.remove()&&l.spinnerReposition&&(n?this.positionOnFadeComplete=!0:this.position()),this.ajaxLoaded=!0,s.bind(this)(e)}.bind(this),l.success=function(e){l.setContent&&this.setContent(e,!0)&&(n?this.positionOnFadeComplete=!0:this.position()),l.setContent&&this.source&&this.source.data("jBox-ajax-data",e),r.bind(this)(e)}.bind(this),l.error=function(e){a.bind(this)(e)}.bind(this),this.ajaxRequest=e.ajax(l),this},t.prototype.cancelAjax=function(){this.ajaxRequest&&(this.ajaxRequest.abort(),this.ajaxLoaded=!1)},t.prototype.audio=function(n,o){if(!n)return this;if(!t._audio&&(t._audio={}),!t._audio[n]){var i=e("<audio/>");e("<source/>",{src:n+".mp3"}).appendTo(i),e("<source/>",{src:n+".ogg"}).appendTo(i),t._audio[n]=i[0]}t._audio[n].volume=Math.min((null!=o?o:100)/100,1);try{t._audio[n].pause(),t._audio[n].currentTime=0}catch(e){}return t._audio[n].play(),this},t._animationSpeeds={tada:1e3,tadaSmall:1e3,flash:500,shake:400,pulseUp:250,pulseDown:250,popIn:250,popOut:250,fadeIn:200,fadeOut:200,slideUp:400,slideRight:400,slideLeft:400,slideDown:400},t.prototype.animate=function(e,n){!n&&(n={}),!this.animationTimeout&&(this.animationTimeout={}),!n.element&&(n.element=this.wrapper),!n.element.data("jBox-animating-id")&&n.element.data("jBox-animating-id",t._getUniqueElementID()),n.element.data("jBox-animating")&&(n.element.removeClass(n.element.data("jBox-animating")).data("jBox-animating",null),this.animationTimeout[n.element.data("jBox-animating-id")]&&clearTimeout(this.animationTimeout[n.element.data("jBox-animating-id")])),n.element.addClass("jBox-animated-"+e).data("jBox-animating","jBox-animated-"+e),this.animationTimeout[n.element.data("jBox-animating-id")]=setTimeout(function(){n.element.removeClass(n.element.data("jBox-animating")).data("jBox-animating",null),n.complete&&n.complete()},t._animationSpeeds[e])},t.prototype.destroy=function(){return this.detach(),this.isOpen&&this.close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.overlay&&this.overlay.remove(),this._styles&&this._styles.remove(),this.isDestroyed=!0,this},t._getUniqueID=(n=1,function(){return n++}),t._getUniqueElementID=(o=1,function(){return o++}),t._pluginOptions={},t.plugin=function(e,n){t._pluginOptions[e]=n},e.fn.jBox=function(n,o){return!n&&(n={}),!o&&(o={}),new t(n,e.extend(o,{attach:this}))},t}function jBoxConfirmWrapper(jBox,jQuery){new jBox.plugin("Confirm",{confirmButton:"Submit",cancelButton:"Cancel",confirm:null,cancel:null,closeOnConfirm:!0,target:window,fixed:!0,attach:"[data-confirm]",getContent:"data-confirm",content:"Do you really want to do this?",minWidth:360,maxWidth:500,blockScroll:!0,closeOnEsc:!0,closeOnClick:!1,closeButton:!1,overlay:!0,animation:"zoomIn",preventDefault:!0,_onAttach:function(e){if(!this.options.confirm){var t=e.attr("onclick")?e.attr("onclick"):e.attr("href")?e.attr("target")?'window.open("'+e.attr("href")+'", "'+e.attr("target")+'");':'window.location.href = "'+e.attr("href")+'";':"";e.prop("onclick",null).data("jBox-Confirm-submit",t)}},_onCreated:function(){this.wrapper.addClass("jBox-Modal"),this.footer=jQuery('<div class="jBox-Confirm-footer"/>'),jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-cancel"/>').html(this.options.cancelButton).click(function(){this.options.cancel&&this.options.cancel(this.source),this.close()}.bind(this)).appendTo(this.footer),this.submitButton=jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-submit"/>').html(this.options.confirmButton).appendTo(this.footer),this.footer.appendTo(this.container)},_onOpen:function(){this.submitButton.off("click.jBox-Confirm"+this.id).on("click.jBox-Confirm"+this.id,function(){this.options.confirm?this.options.confirm(this.source):eval(this.source.data("jBox-Confirm-submit")),this.options.closeOnConfirm&&this.close()}.bind(this))}})}function jBoxImageWrapper(e,t){new e.plugin("Image",{src:"href",gallery:"data-jbox-image",imageLabel:"title",imageFade:360,imageSize:"contain",imageCounter:!1,imageCounterSeparator:"/",downloadButton:!1,downloadButtonText:null,downloadButtonUrl:null,mobileImageAttr:null,mobileImageBreakpoint:null,preloadFirstImage:!1,target:window,attach:"[data-jbox-image]",fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"button",closeButton:!0,overlay:!0,animation:"zoomIn",preventDefault:!0,width:"100%",height:"100%",adjustDistance:{top:40,right:5,bottom:40,left:5},_onInit:function(){this.images=this.currentImage={},this.imageZIndex=1,this.initImage=function(e){if(!(e=t(e)).data("jBox-image-gallery")){var n=e.attr(this.options.src);this.options.mobileImageAttr&&this.options.mobileImageBreakpoint&&e.attr(this.options.mobileImageAttr)&&t(window).width()<=this.options.mobileImageBreakpoint&&(n=e.attr(this.options.mobileImageAttr));var o=e.attr(this.options.gallery)||"default";!this.images[o]&&(this.images[o]=[]),this.images[o].push({src:n,label:e.attr(this.options.imageLabel)||"",downloadUrl:this.options.downloadButtonUrl&&e.attr(this.options.downloadButtonUrl)?e.attr(this.options.downloadButtonUrl):null}),"title"==this.options.imageLabel&&e.removeAttr("title"),e.data("jBox-image-gallery",o),e.data("jBox-image-id",this.images[o].length-1)}}.bind(this),this.attachedElements&&this.attachedElements.length&&t.each(this.attachedElements,function(e,t){this.initImage(t)}.bind(this));var e=function(e,n,o,i){if(!t("#jBox-image-"+e+"-"+n).length){var s=t("<div/>",{id:"jBox-image-"+e+"-"+n,class:"jBox-image-container"+(o?" jBox-image-"+e+"-current":"")}).css({backgroundSize:this.options.imageSize,opacity:i?1:0,zIndex:o?this.imageZIndex++:0}).appendTo(this.content);return t("<div/>",{id:"jBox-image-label-"+e+"-"+n,class:"jBox-image-label"+(o?" active":"")}).html(this.images[e][n].label).click(function(){t(this).toggleClass("expanded")}).appendTo(this.imageLabel),o&&s.animate({opacity:1},i?0:this.options.imageFade),s}}.bind(this);this.downloadImage=function(e){var t=document.createElement("a");t.href=e,t.setAttribute("download",e.substring(e.lastIndexOf("/")+1)),document.body.appendChild(t),t.click()};var n=function(n,o,i,s){var r=e(n,o,i,s);r.addClass("jBox-image-loading"),t('<img src="'+this.images[n][o].src+'" />').each(function(){var e=new Image;e.onload=function(){r.removeClass("jBox-image-loading"),r.css({backgroundImage:'url("'+this.images[n][o].src+'")'})}.bind(this),e.onerror=function(){r.removeClass("jBox-image-loading"),r.addClass("jBox-image-not-found")}.bind(this),e.src=this.images[n][o].src}.bind(this))}.bind(this);this.showImage=function(e){if("open"!=e){var o=this.currentImage.gallery;i=(i=this.currentImage.id+(1*("prev"==e)?-1:1))>this.images[o].length-1?0:i<0?this.images[o].length-1:i}else{if(this.source){o=this.source.data("jBox-image-gallery");var i=this.source.data("jBox-image-id")}else{if(!this.attachedElements||!this.attachedElements.length)return;o=t(this.attachedElements[0]).data("jBox-image-gallery"),i=t(this.attachedElements[0]).data("jBox-image-id")}t(".jBox-image-pointer-prev, .jBox-image-pointer-next").css({display:1<this.images[o].length?"block":"none"})}if(t(".jBox-image-"+o+"-current").length&&t(".jBox-image-"+o+"-current").removeClass("jBox-image-"+o+"-current").animate({opacity:0},"open"==e?0:this.options.imageFade),this.currentImage={gallery:o,id:i},t("#jBox-image-"+o+"-"+i).length?t("#jBox-image-"+o+"-"+i).addClass("jBox-image-"+o+"-current").css({zIndex:this.imageZIndex++,opacity:0}).animate({opacity:1},"open"==e?0:this.options.imageFade):n(o,i,!0,"open"===e),function(e,n){t(".jBox-image-label.active").removeClass("active expanded"),t("#jBox-image-label-"+e+"-"+n).addClass("active")}(o,i),this.imageCounter&&(1<this.images[o].length?(this.wrapper.addClass("jBox-image-has-counter"),this.imageCounter.find(".jBox-image-counter-all").html(this.images[o].length),this.imageCounter.find(".jBox-image-counter-current").html(i+1)):this.wrapper.removeClass("jBox-image-has-counter")),this.images[o].length-1){var s=i+1;s=s>this.images[o].length-1?0:s<0?this.images[o].length-1:s,t("#jBox-image-"+o+"-"+s).length||n(o,s,!1,!1)}},this.options.preloadFirstImage&&t(window).on("load",function(){this.showImage("open")}.bind(this))},_onAttach:function(e){this.initImage&&this.initImage(e)},_onCreated:function(){this.imageLabel=t("<div/>",{class:"jBox-image-label-container"}).appendTo(this.wrapper),this.imageLabel.append(t("<div/>",{class:"jBox-image-pointer-prev",click:function(){this.showImage("prev")}.bind(this)})).append(t("<div/>",{class:"jBox-image-pointer-next",click:function(){this.showImage("next")}.bind(this)})),this.options.downloadButton&&(this.downloadButton=t("<div/>",{class:"jBox-image-download-button-wrapper"}).appendTo(this.wrapper).append(this.options.downloadButtonText?t("<div/>",{class:"jBox-image-download-button-text"}).html(this.options.downloadButtonText):null).append(t("<div/>",{class:"jBox-image-download-button-icon"})).on("click touchdown",function(){if(this.images[this.currentImage.gallery][this.currentImage.id].downloadUrl)var e=this.images[this.currentImage.gallery][this.currentImage.id].downloadUrl;else e=this.wrapper.find(".jBox-image-"+this.currentImage.gallery+"-current")[0].style.backgroundImage.slice(4,-1).replace(/["']/g,"");this.downloadImage(e)}.bind(this))),this.options.imageCounter&&(this.imageCounter=t("<div/>",{class:"jBox-image-counter-container"}).appendTo(this.wrapper),this.imageCounter.append(t("<span/>",{class:"jBox-image-counter-current"})).append(t("<span/>").html(this.options.imageCounterSeparator)).append(t("<span/>",{class:"jBox-image-counter-all"})))},_onOpen:function(){t(document).on("keyup.jBox-Image-"+this.id,function(e){37==e.keyCode&&this.showImage("prev"),39==e.keyCode&&this.showImage("next")}.bind(this)),this.showImage("open")},_onClose:function(){t(document).off("keyup.jBox-Image-"+this.id)},_onCloseComplete:function(){this.wrapper.find(".jBox-image-container").css("opacity",0)}})}function jBoxNoticeWrapper(e,t){new e.plugin("Notice",{color:null,stack:!0,stackSpacing:10,autoClose:6e3,attributes:{x:"right",y:"top"},position:{x:15,y:15},responsivePositions:{500:{x:5,y:5},768:{x:10,y:10}},target:window,fixed:!0,animation:"zoomIn",closeOnClick:"box",zIndex:12e3,_onInit:function(){this.defaultNoticePosition=t.extend({},this.options.position),this._adjustNoticePositon=function(){var e=t(window),n=e.width();e.height(),this.options.position=t.extend({},this.defaultNoticePosition),t.each(this.options.responsivePositions,function(e,t){if(n<=e)return this.options.position=t,!1}.bind(this)),this.options.adjustDistance={top:this.options.position.y,right:this.options.position.x,bottom:this.options.position.y,left:this.options.position.x}},this.options.content instanceof t&&(this.options.content=this.options.content.clone().attr("id","")),t(window).on("resize.responsivejBoxNotice-"+this.id,function(e){this.isOpen&&this._adjustNoticePositon()}.bind(this)),this.open()},_onCreated:function(){this.wrapper.addClass("jBox-Notice-color jBox-Notice-"+(this.options.color||"gray")),this.wrapper.data("jBox-Notice-position",this.options.attributes.x+"-"+this.options.attributes.y)},_onOpen:function(){this.options.stack||(this._adjustNoticePositon(),t.each(t(".jBox-Notice"),function(e,n){(n=t(n)).attr("id")!=this.id&&n.data("jBox-Notice-position")==this.options.attributes.x+"-"+this.options.attributes.y&&(this.options.stack||n.data("jBox").close({ignoreDelay:!0}))}.bind(this)))},_onPosition:function(){var e={};for(var n in t.each(t(".jBox-Notice"),function(n,o){var i=(o=t(o)).data("jBox-Notice-position");e[i]||(e[i]=[]),e[i].push(o)}),e){var o=n.split("-")[1];e[n].reverse();var i=0;for(var s in e[n])el=e[n][s],el.css("margin-"+o,i),i+=el.outerHeight()+this.options.stackSpacing}},_onCloseComplete:function(){this.destroy(),this.options._onPosition.bind(this).call()}})}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){var o,i=(t=t||re).createElement("script");if(i.text=e,n)for(o in xe)n[o]&&(i[o]=n[o]);t.head.appendChild(i).parentNode.removeChild(i)}function o(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[fe.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,n=o(e);return!ve(e)&&!we(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function r(e,t,n){return ve(t)?be.grep(e,function(e,o){return!!t.call(e,o,e)!==n}):t.nodeType?be.grep(e,function(e){return e===t!==n}):"string"!=typeof t?be.grep(e,function(e){return de.call(t,e)>-1!==n}):be.filter(t,e,n)}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return be.each(e.match(_e)||[],function(e,n){t[n]=!0}),t}function c(e){return e}function u(e){throw e}function d(e,t,n,o){var i;try{e&&ve(i=e.promise)?i.call(e).done(t).fail(n):e&&ve(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}function p(){re.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),be.ready()}function f(e,t){return t.toUpperCase()}function h(e){return e.replace(De,"ms-").replace(We,f)}function m(){this.expando=be.expando+m.uid++}function g(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Me.test(e)?JSON.parse(e):e)}function y(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(Pe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=g(n)}catch(e){}Re.set(e,t,n)}else n=void 0;return n}function v(e,t,n,o){var i,s,r=20,a=o?function(){return o.cur()}:function(){return be.css(e,t,"")},l=a(),c=n&&n[3]||(be.cssNumber[t]?"":"px"),u=(be.cssNumber[t]||"px"!==c&&+l)&&Xe.exec(be.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;r--;)be.style(e,t,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),u/=s;u*=2,be.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=u,o.end=i)),i}function w(e){var t,n=e.ownerDocument,o=e.nodeName,i=Ye[o];return i||(t=n.body.appendChild(n.createElement(o)),i=be.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ye[o]=i,i)}function x(e,t){for(var n,o,i=[],s=0,r=e.length;s<r;s++)(o=e[s]).style&&(n=o.style.display,t?("none"===n&&(i[s]=He.get(o,"display")||null,i[s]||(o.style.display="")),""===o.style.display&&Fe(o)&&(i[s]=w(o))):"none"!==n&&(i[s]="none",He.set(o,"display",n)));for(s=0;s<r;s++)null!=i[s]&&(e[s].style.display=i[s]);return e}function b(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&s(e,t)?be.merge([e],n):n}function k(e,t){for(var n=0,o=e.length;n<o;n++)He.set(e[n],"globalEval",!t||He.get(t[n],"globalEval"))}function I(e,t,n,i,s){for(var r,a,l,c,u,d,p=t.createDocumentFragment(),f=[],h=0,m=e.length;h<m;h++)if((r=e[h])||0===r)if("object"===o(r))be.merge(f,r.nodeType?[r]:r);else if(Qe.test(r)){for(a=a||p.appendChild(t.createElement("div")),l=(Je.exec(r)||["",""])[1].toLowerCase(),c=Ge[l]||Ge._default,a.innerHTML=c[1]+be.htmlPrefilter(r)+c[2],d=c[0];d--;)a=a.lastChild;be.merge(f,a.childNodes),(a=p.firstChild).textContent=""}else f.push(t.createTextNode(r));for(p.textContent="",h=0;r=f[h++];)if(i&&be.inArray(r,i)>-1)s&&s.push(r);else if(u=be.contains(r.ownerDocument,r),a=b(p.appendChild(r),"script"),u&&k(a),n)for(d=0;r=a[d++];)Ke.test(r.type||"")&&n.push(r);return p}function C(){return!0}function E(){return!1}function B(){try{return re.activeElement}catch(e){}}function T(e,t,n,o,i,s){var r,a;if("object"==typeof t){"string"!=typeof n&&(o=o||n,n=void 0);for(a in t)T(e,a,n,o,t[a],s);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=E;else if(!i)return e;return 1===s&&(r=i,(i=function(e){return be().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=be.guid++)),e.each(function(){be.event.add(this,t,i,o,n)})}function j(e,t){return s(e,"table")&&s(11!==t.nodeType?t:t.firstChild,"tr")?be(e).children("tbody")[0]||e:e}function S(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function N(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function _(e,t){var n,o,i,s,r,a,l,c;if(1===t.nodeType){if(He.hasData(e)&&(s=He.access(e),r=He.set(t,s),c=s.events)){delete r.handle,r.events={};for(i in c)for(n=0,o=c[i].length;n<o;n++)be.event.add(t,i,c[i][n])}Re.hasData(e)&&(a=Re.access(e),l=be.extend({},a),Re.set(t,l))}}function L(e,t){var n=t.nodeName.toLowerCase();"input"===n&&$e.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function A(e,t,o,i){t=ce.apply([],t);var s,r,a,l,c,u,d=0,p=e.length,f=p-1,h=t[0],m=ve(h);if(m||p>1&&"string"==typeof h&&!ye.checkClone&&it.test(h))return e.each(function(n){var s=e.eq(n);m&&(t[0]=h.call(this,n,s.html())),A(s,t,o,i)});if(p&&(s=I(t,e[0].ownerDocument,!1,e,i),r=s.firstChild,1===s.childNodes.length&&(s=r),r||i)){for(l=(a=be.map(b(s,"script"),S)).length;d<p;d++)c=s,d!==f&&(c=be.clone(c,!0,!0),l&&be.merge(a,b(c,"script"))),o.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,be.map(a,N),d=0;d<l;d++)c=a[d],Ke.test(c.type||"")&&!He.access(c,"globalEval")&&be.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?be._evalUrl&&be._evalUrl(c.src):n(c.textContent.replace(st,""),u,c))}return e}function O(e,t,n){for(var o,i=t?be.filter(t,e):e,s=0;null!=(o=i[s]);s++)n||1!==o.nodeType||be.cleanData(b(o)),o.parentNode&&(n&&be.contains(o.ownerDocument,o)&&k(b(o,"script")),o.parentNode.removeChild(o));return e}function D(e,t,n){var o,i,s,r,a=e.style;return(n=n||at(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||be.contains(e.ownerDocument,e)||(r=be.style(e,t)),!ye.pixelBoxStyles()&&rt.test(r)&&lt.test(t)&&(o=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=o,a.minWidth=i,a.maxWidth=s)),void 0!==r?r+"":r}function W(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function q(e){if(e in ht)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if((e=ft[n]+t)in ht)return e}function H(e){var t=be.cssProps[e];return t||(t=be.cssProps[e]=q(e)||e),t}function R(e,t,n){var o=Xe.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function M(e,t,n,o,i,s){var r="width"===t?1:0,a=0,l=0;if(n===(o?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(l+=be.css(e,n+ze[r],!0,i)),o?("content"===n&&(l-=be.css(e,"padding"+ze[r],!0,i)),"margin"!==n&&(l-=be.css(e,"border"+ze[r]+"Width",!0,i))):(l+=be.css(e,"padding"+ze[r],!0,i),"padding"!==n?l+=be.css(e,"border"+ze[r]+"Width",!0,i):a+=be.css(e,"border"+ze[r]+"Width",!0,i));return!o&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))),l}function P(e,t,n){var o=at(e),i=D(e,t,o),s="border-box"===be.css(e,"boxSizing",!1,o),r=s;if(rt.test(i)){if(!n)return i;i="auto"}return r=r&&(ye.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===be.css(e,"display",!1,o))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],r=!0),(i=parseFloat(i)||0)+M(e,t,n||(s?"border":"content"),r,o,i)+"px"}function V(e,t,n,o,i){return new V.prototype.init(e,t,n,o,i)}function X(){gt&&(!1===re.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(X):e.setTimeout(X,be.fx.interval),be.fx.tick())}function z(){return e.setTimeout(function(){mt=void 0}),mt=Date.now()}function F(e,t){var n,o=0,i={height:e};for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=ze[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var o,i=(J.tweeners[t]||[]).concat(J.tweeners["*"]),s=0,r=i.length;s<r;s++)if(o=i[s].call(n,t,e))return o}function Y(e,t,n){var o,i,s,r,a,l,c,u,d="width"in t||"height"in t,p=this,f={},h=e.style,m=e.nodeType&&Fe(e),g=He.get(e,"fxshow");n.queue||(null==(r=be._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,p.always(function(){p.always(function(){r.unqueued--,be.queue(e,"fx").length||r.empty.fire()})}));for(o in t)if(i=t[o],yt.test(i)){if(delete t[o],s=s||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[o])continue;m=!0}f[o]=g&&g[o]||be.style(e,o)}if((l=!be.isEmptyObject(t))||!be.isEmptyObject(f)){d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=g&&g.display)&&(c=He.get(e,"display")),"none"===(u=be.css(e,"display"))&&(c?u=c:(x([e],!0),c=e.style.display||c,u=be.css(e,"display"),x([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===be.css(e,"float")&&(l||(p.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1;for(o in f)l||(g?"hidden"in g&&(m=g.hidden):g=He.access(e,"fxshow",{display:c}),s&&(g.hidden=!m),m&&x([e],!0),p.done(function(){m||x([e]),He.remove(e,"fxshow");for(o in f)be.style(e,o,f[o])})),l=U(m?g[o]:0,o,p),o in g||(g[o]=l.start,m&&(l.end=l.start,l.start=0))}}function $(e,t){var n,o,i,s,r;for(n in e)if(o=h(n),i=t[o],s=e[n],Array.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==o&&(e[o]=s,delete e[n]),(r=be.cssHooks[o])&&"expand"in r){s=r.expand(s),delete e[o];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[o]=i}function J(e,t,n){var o,i,s=0,r=J.prefilters.length,a=be.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=mt||z(),n=Math.max(0,c.startTime+c.duration-t),o=1-(n/c.duration||0),s=0,r=c.tweens.length;s<r;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),o<1&&r?n:(r||a.notifyWith(e,[c,1,0]),
a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:be.extend({},t),opts:be.extend(!0,{specialEasing:{},easing:be.easing._default},n),originalProperties:t,originalOptions:n,startTime:mt||z(),duration:n.duration,tweens:[],createTween:function(t,n){var o=be.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for($(u,c.opts.specialEasing);s<r;s++)if(o=J.prefilters[s].call(c,e,u,c.opts))return ve(o.stop)&&(be._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return be.map(u,U,c),ve(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),be.fx.timer(be.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function K(e){return(e.match(_e)||[]).join(" ")}function G(e){return e.getAttribute&&e.getAttribute("class")||""}function Q(e){return Array.isArray(e)?e:"string"==typeof e?e.match(_e)||[]:[]}function Z(e,t,n,i){var s;if(Array.isArray(t))be.each(t,function(t,o){n||jt.test(e)?i(e,o):Z(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==o(t))i(e,t);else for(s in t)Z(e+"["+s+"]",t[s],n,i)}function ee(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,s=t.toLowerCase().match(_e)||[];if(ve(n))for(;o=s[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function te(e,t,n,o){function i(a){var l;return s[a]=!0,be.each(e[a]||[],function(e,a){var c=a(t,n,o);return"string"!=typeof c||r||s[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}var s={},r=e===Dt;return i(t.dataTypes[0])||!s["*"]&&i("*")}function ne(e,t){var n,o,i=be.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&be.extend(!0,e,o),e}function oe(e,t,n){for(var o,i,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in a)if(a[i]&&a[i].test(o)){l.unshift(i);break}if(l[0]in n)s=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){s=i;break}r||(r=i)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),n[s]}function ie(e,t,n,o){var i,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(i in c)if((a=i.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[i]:!0!==c[i]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}var se=[],re=e.document,ae=Object.getPrototypeOf,le=se.slice,ce=se.concat,ue=se.push,de=se.indexOf,pe={},fe=pe.toString,he=pe.hasOwnProperty,me=he.toString,ge=me.call(Object),ye={},ve=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},we=function(e){return null!=e&&e===e.window},xe={type:!0,src:!0,noModule:!0},be=function(e,t){return new be.fn.init(e,t)};be.fn=be.prototype={jquery:"3.3.1",constructor:be,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=be.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return be.each(this,e)},map:function(e){return this.pushStack(be.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ue,sort:se.sort,splice:se.splice},be.extend=be.fn.extend=function(){var e,t,n,o,i,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||ve(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=r[t],r!==(o=e[t])&&(c&&o&&(be.isPlainObject(o)||(i=Array.isArray(o)))?(i?(i=!1,s=n&&Array.isArray(n)?n:[]):s=n&&be.isPlainObject(n)?n:{},r[t]=be.extend(c,s,o)):void 0!==o&&(r[t]=o));return r},be.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==fe.call(e)||(t=ae(e))&&("function"!=typeof(n=he.call(t,"constructor")&&t.constructor)||me.call(n)!==ge))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,o=0;if(i(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?be.merge(n,"string"==typeof e?[e]:e):ue.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:de.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,s=e.length,r=!n;i<s;i++)!t(e[i],i)!==r&&o.push(e[i]);return o},map:function(e,t,n){var o,s,r=0,a=[];if(i(e))for(o=e.length;r<o;r++)null!=(s=t(e[r],r,n))&&a.push(s);else for(r in e)null!=(s=t(e[r],r,n))&&a.push(s);return ce.apply([],a)},guid:1,support:ye}),"function"==typeof Symbol&&(be.fn[Symbol.iterator]=se[Symbol.iterator]),be.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var ke=function(e){function t(e,t,n,o){var i,s,r,a,l,u,p,f=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!o&&((t?t.ownerDocument||t:R)!==_&&N(t),t=t||_,A)){if(11!==h&&(l=me.exec(e)))if(i=l[1]){if(9===h){if(!(r=t.getElementById(i)))return n;if(r.id===i)return n.push(r),n}else if(f&&(r=f.getElementById(i))&&q(t,r)&&r.id===i)return n.push(r),n}else{if(l[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&x.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(x.qsa&&!z[e+" "]&&(!O||!O.test(e))){if(1!==h)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(we,xe):t.setAttribute("id",a=H),s=(u=C(e)).length;s--;)u[s]="#"+a+" "+d(u[s]);p=u.join(","),f=ge.test(e)&&c(t.parentNode)||t}if(p)try{return K.apply(n,f.querySelectorAll(p)),n}catch(e){}finally{a===H&&t.removeAttribute("id")}}}return B(e.replace(se,"$1"),t,n,o)}function n(){function e(n,o){return t.push(n+" ")>b.cacheLength&&delete e[t.shift()],e[n+" "]=o}var t=[];return e}function o(e){return e[H]=!0,e}function i(e){var t=_.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),o=n.length;o--;)b.attrHandle[n[o]]=t}function r(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ke(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return o(function(t){return t=+t,o(function(n,o){for(var i,s=e([],n.length,t),r=s.length;r--;)n[i=s[r]]&&(n[i]=!(o[i]=n[i]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function d(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function p(e,t,n){var o=t.dir,i=t.next,s=i||o,r=n&&"parentNode"===s,a=P++;return t.first?function(t,n,i){for(;t=t[o];)if(1===t.nodeType||r)return e(t,n,i);return!1}:function(t,n,l){var c,u,d,p=[M,a];if(l){for(;t=t[o];)if((1===t.nodeType||r)&&e(t,n,l))return!0}else for(;t=t[o];)if(1===t.nodeType||r)if(d=t[H]||(t[H]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[o]||t;else{if((c=u[s])&&c[0]===M&&c[1]===a)return p[2]=c[2];if(u[s]=p,p[2]=e(t,n,l))return!0}return!1}}function f(e){return e.length>1?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function h(e,n,o){for(var i=0,s=n.length;i<s;i++)t(e,n[i],o);return o}function m(e,t,n,o,i){for(var s,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(n&&!n(s,o,i)||(r.push(s),c&&t.push(a)));return r}function g(e,t,n,i,s,r){return i&&!i[H]&&(i=g(i)),s&&!s[H]&&(s=g(s,r)),o(function(o,r,a,l){var c,u,d,p=[],f=[],g=r.length,y=o||h(t||"*",a.nodeType?[a]:a,[]),v=!e||!o&&t?y:m(y,p,e,a,l),w=n?s||(o?e:g||i)?[]:r:v;if(n&&n(v,w,a,l),i)for(c=m(w,f),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(w[f[u]]=!(v[f[u]]=d));if(o){if(s||e){if(s){for(c=[],u=w.length;u--;)(d=w[u])&&c.push(v[u]=d);s(null,w=[],c,l)}for(u=w.length;u--;)(d=w[u])&&(c=s?Q(o,d):p[u])>-1&&(o[c]=!(r[c]=d))}}else w=m(w===r?w.splice(g,w.length):w),s?s(null,r,w,l):K.apply(r,w)})}function y(e){for(var t,n,o,i=e.length,s=b.relative[e[0].type],r=s||b.relative[" "],a=s?1:0,l=p(function(e){return e===t},r,!0),c=p(function(e){return Q(t,e)>-1},r,!0),u=[function(e,n,o){var i=!s&&(o||n!==T)||((t=n).nodeType?l(e,n,o):c(e,n,o));return t=null,i}];a<i;a++)if(n=b.relative[e[a].type])u=[p(f(u),n)];else{if((n=b.filter[e[a].type].apply(null,e[a].matches))[H]){for(o=++a;o<i&&!b.relative[e[o].type];o++);return g(a>1&&f(u),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(se,"$1"),n,a<o&&y(e.slice(a,o)),o<i&&y(e=e.slice(o)),o<i&&d(e))}u.push(n)}return f(u)}function v(e,n){var i=n.length>0,s=e.length>0,r=function(o,r,a,l,c){var u,d,p,f=0,h="0",g=o&&[],y=[],v=T,w=o||s&&b.find.TAG("*",c),x=M+=null==v?1:Math.random()||.1,k=w.length;for(c&&(T=r===_||r||c);h!==k&&null!=(u=w[h]);h++){if(s&&u){for(d=0,r||u.ownerDocument===_||(N(u),a=!A);p=e[d++];)if(p(u,r||_,a)){l.push(u);break}c&&(M=x)}i&&((u=!p&&u)&&f--,o&&g.push(u))}if(f+=h,i&&h!==f){for(d=0;p=n[d++];)p(g,y,r,a);if(o){if(f>0)for(;h--;)g[h]||y[h]||(y[h]=$.call(l));y=m(y)}K.apply(l,y),c&&!o&&y.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(M=x,T=v),g};return i?o(r):r}var w,x,b,k,I,C,E,B,T,j,S,N,_,L,A,O,D,W,q,H="sizzle"+1*new Date,R=e.document,M=0,P=0,V=n(),X=n(),z=n(),F=function(e,t){return e===t&&(S=!0),0},U={}.hasOwnProperty,Y=[],$=Y.pop,J=Y.push,K=Y.push,G=Y.slice,Q=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",oe=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),se=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),re=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(oe),ue=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ve=function(e,t,n){var o="0x"+t-65536;return o!==o||n?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},be=function(){N()},ke=p(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(Y=G.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(e){K={apply:Y.length?function(e,t){J.apply(e,G.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}x=t.support={},I=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=t.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:R;return o!==_&&9===o.nodeType&&o.documentElement?(_=o,L=_.documentElement,A=!I(_),R!==_&&(n=_.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",be,!1):n.attachEvent&&n.attachEvent("onunload",be)),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=he.test(_.getElementsByClassName),x.getById=i(function(e){return L.appendChild(e).id=H,!_.getElementsByName||!_.getElementsByName(H).length}),x.getById?(b.filter.ID=function(e){var t=e.replace(ye,ve);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var t=e.replace(ye,ve);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n,o,i,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(i=t.getElementsByName(e),o=0;s=i[o++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),b.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&o.push(n);return o}return s},b.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},D=[],O=[],(x.qsa=he.test(_.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+H+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||O.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&O.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=he.test(W=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){x.disconnectedMatch=W.call(e,"*"),W.call(e,"[s!='']:x"),D.push("!=",oe)}),O=O.length&&new RegExp(O.join("|")),D=D.length&&new RegExp(D.join("|")),t=he.test(L.compareDocumentPosition),q=t||he.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},F=t?function(e,t){if(e===t)return S=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===_||e.ownerDocument===R&&q(R,e)?-1:t===_||t.ownerDocument===R&&q(R,t)?1:j?Q(j,e)-Q(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return S=!0,0;var n,o=0,i=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!i||!s)return e===_?-1:t===_?1:i?-1:s?1:j?Q(j,e)-Q(j,t):0;if(i===s)return r(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[o]===l[o];)o++;return o?r(a[o],l[o]):a[o]===R?-1:l[o]===R?1:0},_):_},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_&&N(e),n=n.replace(le,"='$1']"),x.matchesSelector&&A&&!z[n+" "]&&(!D||!D.test(n))&&(!O||!O.test(n)))try{var o=W.call(e,n);if(o||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){}return t(n,_,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==_&&N(e),q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_&&N(e);var n=b.attrHandle[t.toLowerCase()],o=n&&U.call(b.attrHandle,t.toLowerCase())?n(e,t,!A):void 0;return void 0!==o?o:x.attributes||!A?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},t.escape=function(e){return(e+"").replace(we,xe)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],o=0,i=0;if(S=!x.detectDuplicates,j=!x.sortStable&&e.slice(0),e.sort(F),S){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return j=null,e},k=t.getText=function(e){var t,n="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)n+=k(t);return n},(b=t.selectors={cacheLength:50,createPseudo:o,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,ve),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,ve).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,o){return function(i){var s=t.attr(i,e);return null==s?"!="===n:!n||(s+="","="===n?s===o:"!="===n?s!==o:"^="===n?o&&0===s.indexOf(o):"*="===n?o&&s.indexOf(o)>-1:"$="===n?o&&s.slice(-o.length)===o:"~="===n?(" "+s.replace(ie," ")+" ").indexOf(o)>-1:"|="===n&&(s===o||s.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,n,o,i){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,f,h,m=s!==r?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a,w=!1;if(g){if(s){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[r?g.firstChild:g.lastChild],r&&v){for(w=(f=(c=(u=(d=(p=g)[H]||(p[H]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===M&&c[1])&&c[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(w=f=0)||h.pop();)if(1===p.nodeType&&++w&&p===t){u[e]=[M,f,w];break}}else if(v&&(w=f=(c=(u=(d=(p=t)[H]||(p[H]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===M&&c[1]),!1===w)for(;(p=++f&&p&&p[m]||(w=f=0)||h.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++w||(v&&((u=(d=p[H]||(p[H]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[M,w]),p!==t)););return(w-=i)===o||w%o==0&&w/o>=0}}},PSEUDO:function(e,n){var i,s=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[H]?s(n):s.length>1?(i=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o,i=s(e,n),r=i.length;r--;)e[o=Q(e,i[r])]=!(t[o]=i[r])}):function(e){return s(e,0,i)}):s}},pseudos:{not:o(function(e){var t=[],n=[],i=E(e.replace(se,"$1"));return i[H]?o(function(e,t,n,o){for(var s,r=i(e,null,o,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))}):function(e,o,s){return t[0]=e,i(t,null,s,n),t[0]=null,!n.pop()}}),has:o(function(e){return function(n){return t(e,n).length>0}}),contains:o(function(e){return e=e.replace(ye,ve),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:o(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,ve).toLowerCase(),function(t){var n;do if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType)return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var o=n<0?n+t:n;--o>=0;)e.push(o);return e}),gt:l(function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e})}}).pseudos.nth=b.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[w]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(w);for(w in{submit:!0,reset:!0})b.pseudos[w]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(w);return u.prototype=b.filters=b.pseudos,b.setFilters=new u,C=t.tokenize=function(e,n){var o,i,s,r,a,l,c,u=X[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=b.preFilter;a;){o&&!(i=re.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(s=[])),o=!1,(i=ae.exec(a))&&(o=i.shift(),s.push({value:o,type:i[0].replace(se," ")}),a=a.slice(o.length));for(r in b.filter)!(i=de[r].exec(a))||c[r]&&!(i=c[r](i))||(o=i.shift(),s.push({value:o,type:r,matches:i}),a=a.slice(o.length));if(!o)break}return n?a.length:a?t.error(e):X(e,l).slice(0)},E=t.compile=function(e,t){var n,o=[],i=[],s=z[e+" "];if(!s){for(t||(t=C(e)),n=t.length;n--;)(s=y(t[n]))[H]?o.push(s):i.push(s);(s=z(e,v(i,o))).selector=e}return s},B=t.select=function(e,t,n,o){var i,s,r,a,l,u="function"==typeof e&&e,p=!o&&C(e=u.selector||e);if(n=n||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(r=s[0]).type&&9===t.nodeType&&A&&b.relative[s[1].type]){if(!(t=(b.find.ID(r.matches[0].replace(ye,ve),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=de.needsContext.test(e)?0:s.length;i--&&(r=s[i],!b.relative[a=r.type]);)if((l=b.find[a])&&(o=l(r.matches[0].replace(ye,ve),ge.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(i,1),!(e=o.length&&d(s)))return K.apply(n,o),n;break}}return(u||E(e,p))(o,t,!A,n,!t||ge.test(e)&&c(t.parentNode)||t),n},x.sortStable=H.split("").sort(F).join("")===H,x.detectDuplicates=!!S,N(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(_.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||s(Z,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(e);be.find=ke,be.expr=ke.selectors,be.expr[":"]=be.expr.pseudos,be.uniqueSort=be.unique=ke.uniqueSort,be.text=ke.getText,be.isXMLDoc=ke.isXML,be.contains=ke.contains,be.escapeSelector=ke.escape;var Ie=function(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&be(e).is(n))break;o.push(e)}return o},Ce=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ee=be.expr.match.needsContext,Be=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;be.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?be.find.matchesSelector(o,e)?[o]:[]:be.find.matches(e,be.grep(t,function(e){return 1===e.nodeType}))},be.fn.extend({find:function(e){var t,n,o=this.length,i=this;if("string"!=typeof e)return this.pushStack(be(e).filter(function(){for(t=0;t<o;t++)if(be.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)be.find(e,i[t],n);return o>1?be.uniqueSort(n):n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&Ee.test(e)?be(e):e||[],!1).length}});var Te,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(be.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||Te,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:je.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof be?t[0]:t,be.merge(this,be.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),Be.test(o[1])&&be.isPlainObject(t))for(o in t)ve(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(i=re.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ve(e)?void 0!==n.ready?n.ready(e):e(be):be.makeArray(e,this)}).prototype=be.fn,Te=be(re);var Se=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};be.fn.extend({has:function(e){var t=be(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(be.contains(this,t[e]))return!0})},closest:function(e,t){var n,o=0,i=this.length,s=[],r="string"!=typeof e&&be(e);if(!Ee.test(e))for(;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&be.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?be.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?de.call(be(e),this[0]):de.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(be.uniqueSort(be.merge(this.get(),be(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),be.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ie(e,"parentNode")},parentsUntil:function(e,t,n){return Ie(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Ie(e,"nextSibling")},prevAll:function(e){return Ie(e,"previousSibling")},nextUntil:function(e,t,n){return Ie(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ie(e,"previousSibling",n)},siblings:function(e){return Ce((e.parentNode||{}).firstChild,e)},children:function(e){return Ce(e.firstChild)},contents:function(e){return s(e,"iframe")?e.contentDocument:(s(e,"template")&&(e=e.content||e),be.merge([],e.childNodes))}},function(e,t){be.fn[e]=function(n,o){var i=be.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=be.filter(o,i)),this.length>1&&(Ne[e]||be.uniqueSort(i),Se.test(e)&&i.reverse()),this.pushStack(i)}});var _e=/[^\x20\t\r\n\f]+/g;be.Callbacks=function(e){e="string"==typeof e?l(e):be.extend({},e);var t,n,i,s,r=[],a=[],c=-1,u=function(){for(s=s||e.once,i=t=!0;a.length;c=-1)for(n=a.shift();++c<r.length;)!1===r[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=r.length,n=!1);e.memory||(n=!1),t=!1,s&&(r=n?[]:"")},d={add:function(){return r&&(n&&!t&&(c=r.length-1,a.push(n)),function t(n){be.each(n,function(n,i){ve(i)?e.unique&&d.has(i)||r.push(i):i&&i.length&&"string"!==o(i)&&t(i)})}(arguments),n&&!t&&u()),this},remove:function(){return be.each(arguments,function(e,t){for(var n;(n=be.inArray(t,r,n))>-1;)r.splice(n,1),n<=c&&c--}),this},has:function(e){return e?be.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return s=a=[],n||t||(r=n=""),this},locked:function(){return!!s},fireWith:function(e,n){return s||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},be.extend({Deferred:function(t){var n=[["notify","progress",be.Callbacks("memory"),be.Callbacks("memory"),2],["resolve","done",be.Callbacks("once memory"),be.Callbacks("once memory"),0,"resolved"],["reject","fail",be.Callbacks("once memory"),be.Callbacks("once memory"),1,"rejected"]],o="pending",i={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return be.Deferred(function(t){be.each(n,function(n,o){var i=ve(e[o[4]])&&e[o[4]];s[o[1]](function(){var e=i&&i.apply(this,arguments);e&&ve(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,o,i){function s(t,n,o,i){return function(){var a=this,l=arguments,d=function(){var e,d;if(!(t<r)){if((e=o.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,ve(d)?i?d.call(e,s(r,n,c,i),s(r,n,u,i)):(r++,d.call(e,s(r,n,c,i),s(r,n,u,i),s(r,n,c,n.notifyWith))):(o!==c&&(a=void 0,l=[e]),(i||n.resolveWith)(a,l))}},p=i?d:function(){try{d()}catch(e){be.Deferred.exceptionHook&&be.Deferred.exceptionHook(e,p.stackTrace),t+1>=r&&(o!==u&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?p():(be.Deferred.getStackHook&&(p.stackTrace=be.Deferred.getStackHook()),e.setTimeout(p))}}var r=0;return be.Deferred(function(e){n[0][3].add(s(0,e,ve(i)?i:c,e.notifyWith)),n[1][3].add(s(0,e,ve(t)?t:c)),n[2][3].add(s(0,e,ve(o)?o:u))}).promise()},promise:function(e){return null!=e?be.extend(e,i):i}},s={};return be.each(n,function(e,t){var r=t[2],a=t[5];i[t[1]]=r.add,a&&r.add(function(){o=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),r.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=r.fireWith}),i.promise(s),t&&t.call(s,s),s},
when:function(e){var t=arguments.length,n=t,o=Array(n),i=le.call(arguments),s=be.Deferred(),r=function(e){return function(n){o[e]=this,i[e]=arguments.length>1?le.call(arguments):n,--t||s.resolveWith(o,i)}};if(t<=1&&(d(e,s.done(r(n)).resolve,s.reject,!t),"pending"===s.state()||ve(i[n]&&i[n].then)))return s.then();for(;n--;)d(i[n],r(n),s.reject);return s.promise()}});var Le=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;be.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Le.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},be.readyException=function(t){e.setTimeout(function(){throw t})};var Ae=be.Deferred();be.fn.ready=function(e){return Ae.then(e).catch(function(e){be.readyException(e)}),this},be.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--be.readyWait:be.isReady)||(be.isReady=!0,!0!==e&&--be.readyWait>0||Ae.resolveWith(re,[be]))}}),be.ready.then=Ae.then,"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll?e.setTimeout(be.ready):(re.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Oe=function(e,t,n,i,s,r,a){var l=0,c=e.length,u=null==n;if("object"===o(n)){s=!0;for(l in n)Oe(e,t,l,n[l],!0,r,a)}else if(void 0!==i&&(s=!0,ve(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(be(e),n)})),t))for(;l<c;l++)t(e[l],n,a?i:i.call(e[l],l,t(e[l],n)));return s?e:u?t.call(e):c?t(e[0],n):r},De=/^-ms-/,We=/-([a-z])/g,qe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},qe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,i=this.cache(e);if("string"==typeof t)i[h(t)]=n;else for(o in t)i[h(o)]=t[o];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(h):(t=h(t))in o?[t]:t.match(_e)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||be.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!be.isEmptyObject(t)}};var He=new m,Re=new m,Me=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/[A-Z]/g;be.extend({hasData:function(e){return Re.hasData(e)||He.hasData(e)},data:function(e,t,n){return Re.access(e,t,n)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,n){return He.access(e,t,n)},_removeData:function(e,t){He.remove(e,t)}}),be.fn.extend({data:function(e,t){var n,o,i,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(i=Re.get(s),1===s.nodeType&&!He.get(s,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(o=r[n].name).indexOf("data-")&&(o=h(o.slice(5)),y(s,o,i[o]));He.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Re.set(this,e)}):Oe(this,function(t){var n;if(s&&void 0===t){if(void 0!==(n=Re.get(s,e)))return n;if(void 0!==(n=y(s,e)))return n}else this.each(function(){Re.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),be.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=He.get(e,t),n&&(!o||Array.isArray(n)?o=He.access(e,t,be.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=be.queue(e,t),o=n.length,i=n.shift(),s=be._queueHooks(e,t),r=function(){be.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,r,s)),!o&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return He.get(e,n)||He.access(e,n,{empty:be.Callbacks("once memory").add(function(){He.remove(e,[t+"queue",n])})})}}),be.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?be.queue(this[0],e):void 0===t?this:this.each(function(){var n=be.queue(this,e,t);be._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&be.dequeue(this,e)})},dequeue:function(e){return this.each(function(){be.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=be.Deferred(),s=this,r=this.length,a=function(){--o||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=He.get(s[r],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(t)}});var Ve=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xe=new RegExp("^(?:([+-])=|)("+Ve+")([a-z%]*)$","i"),ze=["Top","Right","Bottom","Left"],Fe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&be.contains(e.ownerDocument,e)&&"none"===be.css(e,"display")},Ue=function(e,t,n,o){var i,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,o||[]);for(s in t)e.style[s]=r[s];return i},Ye={};be.fn.extend({show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Fe(this)?be(this).show():be(this).hide()})}});var $e=/^(?:checkbox|radio)$/i,Je=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ke=/^$|^module$|\/(?:java|ecma)script/i,Ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var Qe=/<|&#?\w+;/;!function(){var e=re.createDocumentFragment().appendChild(re.createElement("div")),t=re.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),ye.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ye.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ze=re.documentElement,et=/^key/,tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nt=/^([^.]*)(?:\.(.+)|)/;be.event={global:{},add:function(e,t,n,o,i){var s,r,a,l,c,u,d,p,f,h,m,g=He.get(e);if(g)for(n.handler&&(n=(s=n).handler,i=s.selector),i&&be.find.matchesSelector(Ze,i),n.guid||(n.guid=be.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(t){return void 0!==be&&be.event.triggered!==t.type?be.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(_e)||[""]).length;c--;)f=m=(a=nt.exec(t[c])||[])[1],h=(a[2]||"").split(".").sort(),f&&(d=be.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=be.event.special[f]||{},u=be.extend({type:f,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&be.expr.match.needsContext.test(i),namespace:h.join(".")},s),(p=l[f])||((p=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,o,h,r)||e.addEventListener&&e.addEventListener(f,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),be.event.global[f]=!0)},remove:function(e,t,n,o,i){var s,r,a,l,c,u,d,p,f,h,m,g=He.hasData(e)&&He.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(_e)||[""]).length;c--;)if(a=nt.exec(t[c])||[],f=m=a[1],h=(a[2]||"").split(".").sort(),f){for(d=be.event.special[f]||{},p=l[f=(o?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=p.length;s--;)u=p[s],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(p.splice(s,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));r&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||be.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)be.event.remove(e,f+t[c],n,o,!0);be.isEmptyObject(l)&&He.remove(e,"handle events")}},dispatch:function(e){var t,n,o,i,s,r,a=be.event.fix(e),l=new Array(arguments.length),c=(He.get(this,"events")||{})[a.type]||[],u=be.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(r=be.event.handlers.call(this,a,c),t=0;(i=r[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(o=((be.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,l))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,o,i,s,r,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],r={},n=0;n<l;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?be(i,this).index(c)>-1:be.find(i,this,null,[c]).length),r[i]&&s.push(o);s.length&&a.push({elem:c,handlers:s})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(be.Event.prototype,e,{enumerable:!0,configurable:!0,get:ve(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[be.expando]?e:new be.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==B()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===B()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&s(this,"input"))return this.click(),!1},_default:function(e){return s(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},be.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},be.Event=function(e,t){if(!(this instanceof be.Event))return new be.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?C:E,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&be.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[be.expando]=!0},be.Event.prototype={constructor:be.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=C,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=C,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=C,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},be.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&et.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&tt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},be.event.addProp),be.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){be.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,i=e.relatedTarget,s=e.handleObj;return i&&(i===o||be.contains(o,i))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),be.fn.extend({on:function(e,t,n,o){return T(this,e,t,n,o)},one:function(e,t,n,o){return T(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,be(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=E),this.each(function(){be.event.remove(this,e,n,t)})}});var ot=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;be.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,n){var o,i,s,r,a=e.cloneNode(!0),l=be.contains(e.ownerDocument,e);if(!(ye.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||be.isXMLDoc(e)))for(r=b(a),o=0,i=(s=b(e)).length;o<i;o++)L(s[o],r[o]);if(t)if(n)for(s=s||b(e),r=r||b(a),o=0,i=s.length;o<i;o++)_(s[o],r[o]);else _(e,a);return(r=b(a,"script")).length>0&&k(r,!l&&b(e,"script")),a},cleanData:function(e){for(var t,n,o,i=be.event.special,s=0;void 0!==(n=e[s]);s++)if(qe(n)){if(t=n[He.expando]){if(t.events)for(o in t.events)i[o]?be.event.remove(n,o):be.removeEvent(n,o,t.handle);n[He.expando]=void 0}n[Re.expando]&&(n[Re.expando]=void 0)}}}),be.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Oe(this,function(e){return void 0===e?be.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return A(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||j(this,e).appendChild(e)})},prepend:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(be.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return be.clone(this,e,t)})},html:function(e){return Oe(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ot.test(e)&&!Ge[(Je.exec(e)||["",""])[1].toLowerCase()]){e=be.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(be.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return A(this,arguments,function(t){var n=this.parentNode;be.inArray(this,e)<0&&(be.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),be.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){be.fn[e]=function(e){for(var n,o=[],i=be(e),s=i.length-1,r=0;r<=s;r++)n=r===s?this:this.clone(!0),be(i[r])[t](n),ue.apply(o,n.get());return this.pushStack(o)}});var rt=new RegExp("^("+Ve+")(?!px)[a-z%]+$","i"),at=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},lt=new RegExp(ze.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ze.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);o="1%"!==t.top,a=12===n(t.marginLeft),c.style.right="60%",r=36===n(t.right),i=36===n(t.width),c.style.position="absolute",s=36===c.offsetWidth||"absolute",Ze.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var o,i,s,r,a,l=re.createElement("div"),c=re.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle="content-box"===c.style.backgroundClip,be.extend(ye,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),a},scrollboxSize:function(){return t(),s}}))}();var ct=/^(none|table(?!-c[ea]).+)/,ut=/^--/,dt={position:"absolute",visibility:"hidden",display:"block"},pt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","Moz","ms"],ht=re.createElement("div").style;be.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=D(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,r,a=h(t),l=ut.test(t),c=e.style;if(l||(t=H(a)),r=be.cssHooks[t]||be.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(i=r.get(e,!1,o))?i:c[t];"string"==(s=typeof n)&&(i=Xe.exec(n))&&i[1]&&(n=v(e,t,i),s="number"),null!=n&&n===n&&("number"===s&&(n+=i&&i[3]||(be.cssNumber[a]?"":"px")),ye.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var i,s,r,a=h(t);return ut.test(t)||(t=H(a)),(r=be.cssHooks[t]||be.cssHooks[a])&&"get"in r&&(i=r.get(e,!0,n)),void 0===i&&(i=D(e,t,o)),"normal"===i&&t in pt&&(i=pt[t]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),be.each(["height","width"],function(e,t){be.cssHooks[t]={get:function(e,n,o){if(n)return!ct.test(be.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?P(e,t,o):Ue(e,dt,function(){return P(e,t,o)})},set:function(e,n,o){var i,s=at(e),r="border-box"===be.css(e,"boxSizing",!1,s),a=o&&M(e,t,o,r,s);return r&&ye.scrollboxSize()===s.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-M(e,t,"border",!1,s)-.5)),a&&(i=Xe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=be.css(e,t)),R(e,n,a)}}}),be.cssHooks.marginLeft=W(ye.reliableMarginLeft,function(e,t){if(t)return(parseFloat(D(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),be.each({margin:"",padding:"",border:"Width"},function(e,t){be.cssHooks[e+t]={expand:function(n){for(var o=0,i={},s="string"==typeof n?n.split(" "):[n];o<4;o++)i[e+ze[o]+t]=s[o]||s[o-2]||s[0];return i}},"margin"!==e&&(be.cssHooks[e+t].set=R)}),be.fn.extend({css:function(e,t){return Oe(this,function(e,t,n){var o,i,s={},r=0;if(Array.isArray(t)){for(o=at(e),i=t.length;r<i;r++)s[t[r]]=be.css(e,t[r],!1,o);return s}return void 0!==n?be.style(e,t,n):be.css(e,t)},e,t,arguments.length>1)}}),be.Tween=V,V.prototype={constructor:V,init:function(e,t,n,o,i,s){this.elem=e,this.prop=n,this.easing=i||be.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=s||(be.cssNumber[n]?"":"px")},cur:function(){var e=V.propHooks[this.prop];return e&&e.get?e.get(this):V.propHooks._default.get(this)},run:function(e){var t,n=V.propHooks[this.prop];return this.options.duration?this.pos=t=be.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=be.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){be.fx.step[e.prop]?be.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[be.cssProps[e.prop]]&&!be.cssHooks[e.prop]?e.elem[e.prop]=e.now:be.style(e.elem,e.prop,e.now+e.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},be.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},be.fx=V.prototype.init,be.fx.step={};var mt,gt,yt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;be.Animation=be.extend(J,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,Xe.exec(t),n),n}]},tweener:function(e,t){ve(e)?(t=e,e=["*"]):e=e.match(_e);for(var n,o=0,i=e.length;o<i;o++)n=e[o],J.tweeners[n]=J.tweeners[n]||[],J.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?J.prefilters.unshift(e):J.prefilters.push(e)}}),be.speed=function(e,t,n){var o=e&&"object"==typeof e?be.extend({},e):{complete:n||!n&&t||ve(e)&&e,duration:e,easing:n&&t||t&&!ve(t)&&t};return be.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in be.fx.speeds?o.duration=be.fx.speeds[o.duration]:o.duration=be.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){ve(o.old)&&o.old.call(this),o.queue&&be.dequeue(this,o.queue)},o},be.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=be.isEmptyObject(e),s=be.speed(t,n,o),r=function(){var t=J(this,be.extend({},e),s);(i||He.get(this,"finish"))&&t.stop(!0)};return r.finish=r,i||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=be.timers,r=He.get(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&vt.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||be.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=He.get(this),o=n[e+"queue"],i=n[e+"queueHooks"],s=be.timers,r=o?o.length:0;for(n.finish=!0,be.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish})}}),be.each(["toggle","show","hide"],function(e,t){var n=be.fn[t];be.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,o,i)}}),be.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){be.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),be.timers=[],be.fx.tick=function(){var e,t=0,n=be.timers;for(mt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||be.fx.stop(),mt=void 0},be.fx.timer=function(e){be.timers.push(e),be.fx.start()},be.fx.interval=13,be.fx.start=function(){gt||(gt=!0,X())},be.fx.stop=function(){gt=null},be.fx.speeds={slow:600,fast:200,_default:400},be.fn.delay=function(t,n){return t=be.fx?be.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,o){var i=e.setTimeout(n,t);o.stop=function(){e.clearTimeout(i)}})},function(){var e=re.createElement("input"),t=re.createElement("select").appendChild(re.createElement("option"));e.type="checkbox",ye.checkOn=""!==e.value,ye.optSelected=t.selected,(e=re.createElement("input")).value="t",e.type="radio",ye.radioValue="t"===e.value}();var wt,xt=be.expr.attrHandle;be.fn.extend({attr:function(e,t){return Oe(this,be.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){be.removeAttr(this,e)})}}),be.extend({attr:function(e,t,n){var o,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?be.prop(e,t,n):(1===s&&be.isXMLDoc(e)||(i=be.attrHooks[t.toLowerCase()]||(be.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void be.removeAttr(e,t):i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=be.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!ye.radioValue&&"radio"===t&&s(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,i=t&&t.match(_e);if(i&&1===e.nodeType)for(;n=i[o++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?be.removeAttr(e,n):e.setAttribute(n,n),n}},be.each(be.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xt[t]||be.find.attr;xt[t]=function(e,t,o){var i,s,r=t.toLowerCase();return o||(s=xt[r],xt[r]=i,i=null!=n(e,t,o)?r:null,xt[r]=s),i}});var bt=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;be.fn.extend({prop:function(e,t){return Oe(this,be.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[be.propFix[e]||e]})}}),be.extend({prop:function(e,t,n){var o,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&be.isXMLDoc(e)||(t=be.propFix[t]||t,i=be.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=be.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ye.optSelected||(be.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),be.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){be.propFix[this.toLowerCase()]=this}),be.fn.extend({addClass:function(e){var t,n,o,i,s,r,a,l=0;if(ve(e))return this.each(function(t){be(this).addClass(e.call(this,t,G(this)))});if((t=Q(e)).length)for(;n=this[l++];)if(i=G(n),o=1===n.nodeType&&" "+K(i)+" "){for(r=0;s=t[r++];)o.indexOf(" "+s+" ")<0&&(o+=s+" ");i!==(a=K(o))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,o,i,s,r,a,l=0;if(ve(e))return this.each(function(t){be(this).removeClass(e.call(this,t,G(this)))});if(!arguments.length)return this.attr("class","");if((t=Q(e)).length)for(;n=this[l++];)if(i=G(n),o=1===n.nodeType&&" "+K(i)+" "){for(r=0;s=t[r++];)for(;o.indexOf(" "+s+" ")>-1;)o=o.replace(" "+s+" "," ");i!==(a=K(o))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,o="string"===n||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):ve(e)?this.each(function(n){be(this).toggleClass(e.call(this,n,G(this),t),t)}):this.each(function(){var t,i,s,r;if(o)for(i=0,s=be(this),r=Q(e);t=r[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=G(this))&&He.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":He.get(this,"__className__")||""))})},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+K(G(n))+" ").indexOf(t)>-1)return!0;return!1}});be.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=ve(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=o?e.call(this,n,be(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=be.map(i,function(e){return null==e?"":e+""})),(t=be.valHooks[this.type]||be.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=be.valHooks[i.type]||be.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(/\r/g,""):null==n?"":n:void 0}}),be.extend({valHooks:{option:{get:function(e){var t=be.find.attr(e,"value");return null!=t?t:K(be.text(e))}},select:{get:function(e){var t,n,o,i=e.options,r=e.selectedIndex,a="select-one"===e.type,l=a?null:[],c=a?r+1:i.length;for(o=r<0?c:a?r:0;o<c;o++)if(((n=i[o]).selected||o===r)&&!n.disabled&&(!n.parentNode.disabled||!s(n.parentNode,"optgroup"))){if(t=be(n).val(),a)return t;l.push(t)}return l},set:function(e,t){for(var n,o,i=e.options,s=be.makeArray(t),r=i.length;r--;)((o=i[r]).selected=be.inArray(be.valHooks.option.get(o),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),be.each(["radio","checkbox"],function(){be.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=be.inArray(be(e).val(),t)>-1}},ye.checkOn||(be.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ye.focusin="onfocusin"in e;var It=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};be.extend(be.event,{trigger:function(t,n,o,i){var s,r,a,l,c,u,d,p,f=[o||re],h=he.call(t,"type")?t.type:t,m=he.call(t,"namespace")?t.namespace.split("."):[];if(r=p=a=o=o||re,3!==o.nodeType&&8!==o.nodeType&&!It.test(h+be.event.triggered)&&(h.indexOf(".")>-1&&(h=(m=h.split(".")).shift(),m.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[be.expando]?t:new be.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:be.makeArray(n,[t]),d=be.event.special[h]||{},i||!d.trigger||!1!==d.trigger.apply(o,n))){if(!i&&!d.noBubble&&!we(o)){for(l=d.delegateType||h,It.test(l+h)||(r=r.parentNode);r;r=r.parentNode)f.push(r),a=r;a===(o.ownerDocument||re)&&f.push(a.defaultView||a.parentWindow||e)}for(s=0;(r=f[s++])&&!t.isPropagationStopped();)p=r,t.type=s>1?l:d.bindType||h,(u=(He.get(r,"events")||{})[t.type]&&He.get(r,"handle"))&&u.apply(r,n),(u=c&&r[c])&&u.apply&&qe(r)&&(t.result=u.apply(r,n),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),n)||!qe(o)||c&&ve(o[h])&&!we(o)&&((a=o[c])&&(o[c]=null),be.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,Ct),o[h](),t.isPropagationStopped()&&p.removeEventListener(h,Ct),be.event.triggered=void 0,a&&(o[c]=a)),t.result}},simulate:function(e,t,n){var o=be.extend(new be.Event,n,{type:e,isSimulated:!0});be.event.trigger(o,null,t)}}),be.fn.extend({trigger:function(e,t){return this.each(function(){be.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return be.event.trigger(e,t,n,!0)}}),ye.focusin||be.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){be.event.simulate(t,e.target,be.event.fix(e))};be.event.special[t]={setup:function(){var o=this.ownerDocument||this,i=He.access(o,t);i||o.addEventListener(e,n,!0),He.access(o,t,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this,i=He.access(o,t)-1;i?He.access(o,t,i):(o.removeEventListener(e,n,!0),He.remove(o,t))}}});var Et=e.location,Bt=Date.now(),Tt=/\?/;be.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||be.error("Invalid XML: "+t),n};var jt=/\[\]$/,St=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;be.param=function(e,t){var n,o=[],i=function(e,t){var n=ve(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!be.isPlainObject(e))be.each(e,function(){i(this.name,this.value)});else for(n in e)Z(n,e[n],t,i);return o.join("&")},be.fn.extend({serialize:function(){return be.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=be.prop(this,"elements");return e?be.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!be(this).is(":disabled")&&Nt.test(this.nodeName)&&!St.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var n=be(this).val();return null==n?null:Array.isArray(n)?be.map(n,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}})
;var _t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,At=/^(?:GET|HEAD)$/,Ot={},Dt={},Wt="*/".concat("*"),qt=re.createElement("a");qt.href=Et.href,be.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:Lt.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":be.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,be.ajaxSettings),t):ne(be.ajaxSettings,e)},ajaxPrefilter:ee(Ot),ajaxTransport:ee(Dt),ajax:function(t,n){function o(t,n,o,a){var c,p,f,x,b,k=n;u||(u=!0,l&&e.clearTimeout(l),i=void 0,r=a||"",I.readyState=t>0?4:0,c=t>=200&&t<300||304===t,o&&(x=oe(h,I,o)),x=ie(h,x,I,c),c?(h.ifModified&&((b=I.getResponseHeader("Last-Modified"))&&(be.lastModified[s]=b),(b=I.getResponseHeader("etag"))&&(be.etag[s]=b)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=x.state,p=x.data,c=!(f=x.error))):(f=k,!t&&k||(k="error",t<0&&(t=0))),I.status=t,I.statusText=(n||k)+"",c?y.resolveWith(m,[p,k,I]):y.rejectWith(m,[I,k,f]),I.statusCode(w),w=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[I,h,c?p:f]),v.fireWith(m,[I,k]),d&&(g.trigger("ajaxComplete",[I,h]),--be.active||be.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,s,r,a,l,c,u,d,p,f,h=be.ajaxSetup({},n),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?be(m):be.event,y=be.Deferred(),v=be.Callbacks("once memory"),w=h.statusCode||{},x={},b={},k="canceled",I={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=_t.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(e,t){return null==u&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)I.always(e[I.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||k;return i&&i.abort(t),o(0,t),this}};if(y.promise(I),h.url=((t||h.url||Et.href)+"").replace(/^\/\//,Et.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(_e)||[""],null==h.crossDomain){c=re.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=qt.protocol+"//"+qt.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=be.param(h.data,h.traditional)),te(Ot,h,n,I),u)return I;(d=be.event&&h.global)&&0==be.active++&&be.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!At.test(h.type),s=h.url.replace(/#.*$/,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(/%20/g,"+")):(f=h.url.slice(s.length),h.data&&(h.processData||"string"==typeof h.data)&&(s+=(Tt.test(s)?"&":"?")+h.data,delete h.data),!1===h.cache&&(s=s.replace(/([?&])_=[^&]*/,"$1"),f=(Tt.test(s)?"&":"?")+"_="+Bt+++f),h.url=s+f),h.ifModified&&(be.lastModified[s]&&I.setRequestHeader("If-Modified-Since",be.lastModified[s]),be.etag[s]&&I.setRequestHeader("If-None-Match",be.etag[s])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&I.setRequestHeader("Content-Type",h.contentType),I.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)I.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(m,I,h)||u))return I.abort();if(k="abort",v.add(h.complete),I.done(h.success),I.fail(h.error),i=te(Dt,h,n,I)){if(I.readyState=1,d&&g.trigger("ajaxSend",[I,h]),u)return I;h.async&&h.timeout>0&&(l=e.setTimeout(function(){I.abort("timeout")},h.timeout));try{u=!1,i.send(x,o)}catch(e){if(u)throw e;o(-1,e)}}else o(-1,"No Transport");return I},getJSON:function(e,t,n){return be.get(e,t,n,"json")},getScript:function(e,t){return be.get(e,void 0,t,"script")}}),be.each(["get","post"],function(e,t){be[t]=function(e,n,o,i){return ve(n)&&(i=i||o,o=n,n=void 0),be.ajax(be.extend({url:e,type:t,dataType:i,data:n,success:o},be.isPlainObject(e)&&e))}}),be._evalUrl=function(e){return be.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},be.fn.extend({wrapAll:function(e){var t;return this[0]&&(ve(e)&&(e=e.call(this[0])),t=be(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ve(e)?this.each(function(t){be(this).wrapInner(e.call(this,t))}):this.each(function(){var t=be(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ve(e);return this.each(function(n){be(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){be(this).replaceWith(this.childNodes)}),this}}),be.expr.pseudos.hidden=function(e){return!be.expr.pseudos.visible(e)},be.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},be.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Rt=be.ajaxSettings.xhr();ye.cors=!!Rt&&"withCredentials"in Rt,ye.ajax=Rt=!!Rt,be.ajaxTransport(function(t){var n,o;if(ye.cors||Rt&&!t.crossDomain)return{send:function(i,s){var r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)a.setRequestHeader(r,i[r]);n=function(e){return function(){n&&(n=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ht[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),o=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&o()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),be.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),be.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return be.globalEval(e),e}}}),be.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),be.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(o,i){t=be("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),re.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Mt=[],Pt=/(=)\?(?=&|$)|\?\?/;be.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||be.expando+"_"+Bt++;return this[e]=!0,e}}),be.ajaxPrefilter("json jsonp",function(t,n,o){var i,s,r,a=!1!==t.jsonp&&(Pt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ve(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Pt,"$1"+i):!1!==t.jsonp&&(t.url+=(Tt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||be.error(i+" was not called"),r[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){r=arguments},o.always(function(){void 0===s?be(e).removeProp(i):e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,Mt.push(i)),r&&ve(s)&&s(r[0]),r=s=void 0}),"script"}),ye.createHTMLDocument=function(){var e=re.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),be.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var o,i,s;return t||(ye.createHTMLDocument?((o=(t=re.implementation.createHTMLDocument("")).createElement("base")).href=re.location.href,t.head.appendChild(o)):t=re),i=Be.exec(e),s=!n&&[],i?[t.createElement(i[1])]:(i=I([e],t,s),s&&s.length&&be(s).remove(),be.merge([],i.childNodes))},be.fn.load=function(e,t,n){var o,i,s,r=this,a=e.indexOf(" ");return a>-1&&(o=K(e.slice(a)),e=e.slice(0,a)),ve(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),r.length>0&&be.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,r.html(o?be("<div>").append(be.parseHTML(e)).find(o):e)}).always(n&&function(e,t){r.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},be.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){be.fn[t]=function(e){return this.on(t,e)}}),be.expr.pseudos.animated=function(e){return be.grep(be.timers,function(t){return e===t.elem}).length},be.offset={setOffset:function(e,t,n){var o,i,s,r,a,l,c=be.css(e,"position"),u=be(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),s=be.css(e,"top"),l=be.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(r=(o=u.position()).top,i=o.left):(r=parseFloat(s)||0,i=parseFloat(l)||0),ve(t)&&(t=t.call(e,n,be.extend({},a))),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+i),"using"in t?t.using.call(e,d):u.css(d)}},be.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){be.offset.setOffset(this,e,t)});var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],i={top:0,left:0};if("fixed"===be.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===be.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((i=be(e).offset()).top+=be.css(e,"borderTopWidth",!0),i.left+=be.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-be.css(o,"marginTop",!0),left:t.left-i.left-be.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===be.css(e,"position");)e=e.offsetParent;return e||Ze})}}),be.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;be.fn[e]=function(o){return Oe(this,function(e,o,i){var s;if(we(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===i)return s?s[t]:e[o];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[o]=i},e,o,arguments.length)}}),be.each(["top","left"],function(e,t){be.cssHooks[t]=W(ye.pixelPosition,function(e,n){if(n)return n=D(e,t),rt.test(n)?be(e).position()[t]+"px":n})}),be.each({Height:"height",Width:"width"},function(e,t){be.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){be.fn[o]=function(i,s){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===s?"margin":"border");return Oe(this,function(t,n,i){var s;return we(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?be.css(t,n,a):be.style(t,n,i,a)},t,r?i:void 0,r)}})}),be.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){be.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),be.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),be.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),be.proxy=function(e,t){var n,o,i;if("string"==typeof t&&(n=e[t],t=e,e=n),ve(e))return o=le.call(arguments,2),i=function(){return e.apply(t||this,o.concat(le.call(arguments)))},i.guid=e.guid=e.guid||be.guid++,i},be.holdReady=function(e){e?be.readyWait++:be.ready(!0)},be.isArray=Array.isArray,be.parseJSON=JSON.parse,be.nodeName=s,be.isFunction=ve,be.isWindow=we,be.camelCase=h,be.type=o,be.now=Date.now,be.isNumeric=function(e){var t=be.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return be});var Vt=e.jQuery,Xt=e.$;return be.noConflict=function(t){return e.$===be&&(e.$=Xt),t&&e.jQuery===be&&(e.jQuery=Vt),be},t||(e.jQuery=e.$=be),be}),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,n,o){"use strict";var i={_positionClasses:["bottom-left","bottom-right","top-right","top-left","bottom-center","top-center","mid-center"],_defaultIcons:["success","error","info","warning"],init:function(t,n){this.prepareOptions(t,e.toast.options),this.process()},prepareOptions:function(t,n){var o={};"string"==typeof t||t instanceof Array?o.text=t:o=t,this.options=e.extend({},n,o)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var t="";if(this._toastEl=this._toastEl||e("<div></div>",{class:"jq-toast-single"}),t+='<span class="jq-toast-loader"></span>',this.options.allowToastClose&&(t+='<span class="close-jq-toast-single">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(t+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),t+='<ul class="jq-toast-ul">';for(var n=0;n<this.options.text.length;n++)t+='<li class="jq-toast-li" id="jq-toast-item-'+n+'">'+this.options.text[n]+"</li>";t+="</ul>"}else this.options.heading&&(t+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),t+=this.options.text;this._toastEl.html(t),this.options.bgColor!==!1&&this._toastEl.css("background-color",this.options.bgColor),this.options.textColor!==!1&&this._toastEl.css("color",this.options.textColor),this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign),this.options.icon!==!1&&(this._toastEl.addClass("jq-has-icon"),-1!==e.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass("jq-icon-"+this.options.icon)),this.options.class!==!1&&this._toastEl.addClass(this.options.class)},position:function(){"string"==typeof this.options.position&&-1!==e.inArray(this.options.position,this._positionClasses)?"bottom-center"===this.options.position?this._container.css({left:e(t).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:e(t).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?this._container.css({left:e(t).outerWidth()/2-this._container.outerWidth()/2,top:e(t).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var e=this;this._toastEl.on("afterShown",function(){e.processLoader()}),this._toastEl.find(".close-jq-toast-single").on("click",function(t){t.preventDefault(),"fade"===e.options.showHideTransition?(e._toastEl.trigger("beforeHide"),e._toastEl.fadeOut(function(){e._toastEl.trigger("afterHidden")})):"slide"===e.options.showHideTransition?(e._toastEl.trigger("beforeHide"),e._toastEl.slideUp(function(){e._toastEl.trigger("afterHidden")})):(e._toastEl.trigger("beforeHide"),e._toastEl.hide(function(){e._toastEl.trigger("afterHidden")}))}),"function"==typeof this.options.beforeShow&&this._toastEl.on("beforeShow",function(){e.options.beforeShow()}),"function"==typeof this.options.afterShown&&this._toastEl.on("afterShown",function(){e.options.afterShown()}),"function"==typeof this.options.beforeHide&&this._toastEl.on("beforeHide",function(){e.options.beforeHide()}),"function"==typeof this.options.afterHidden&&this._toastEl.on("afterHidden",function(){e.options.afterHidden()})},addToDom:function(){var t=e(".jq-toast-wrap");if(0===t.length?(t=e("<div></div>",{class:"jq-toast-wrap"}),e("body").append(t)):(!this.options.stack||isNaN(parseInt(this.options.stack,10)))&&t.empty(),t.find(".jq-toast-single:hidden").remove(),t.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var n=t.find(".jq-toast-single").length,o=n-this.options.stack;o>0&&e(".jq-toast-wrap").find(".jq-toast-single").slice(0,o).remove()}this._container=t},canAutoHide:function(){return this.options.hideAfter!==!1&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||this.options.loader===!1)return!1;var e=this._toastEl.find(".jq-toast-loader"),t=(this.options.hideAfter-400)/1e3+"s",n=this.options.loaderBg,o=e.attr("style")||"";o=o.substring(0,o.indexOf("-webkit-transition")),o+="-webkit-transition: width "+t+" ease-in;                       -o-transition: width "+t+" ease-in;                       transition: width "+t+" ease-in;                       background-color: "+n+";",e.attr("style",o).addClass("jq-toast-loaded")},animate:function(){var e=this;if(this._toastEl.hide(),this._toastEl.trigger("beforeShow"),"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){e._toastEl.trigger("afterShown")}):"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){e._toastEl.trigger("afterShown")}):this._toastEl.show(function(){e._toastEl.trigger("afterShown")}),this.canAutoHide()){var e=this;t.setTimeout(function(){"fade"===e.options.showHideTransition.toLowerCase()?(e._toastEl.trigger("beforeHide"),e._toastEl.fadeOut(function(){e._toastEl.trigger("afterHidden")})):"slide"===e.options.showHideTransition.toLowerCase()?(e._toastEl.trigger("beforeHide"),e._toastEl.slideUp(function(){e._toastEl.trigger("afterHidden")})):(e._toastEl.trigger("beforeHide"),e._toastEl.hide(function(){e._toastEl.trigger("afterHidden")}))},this.options.hideAfter)}},reset:function(t){"all"===t?e(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(e){this.prepareOptions(e,this.options),this.setup(),this.bindToast()}};e.toast=function(e){var t=Object.create(i);return t.init(e,this),{reset:function(e){t.reset(e)},update:function(e){t.update(e)}}},e.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){}}}(jQuery,window,document);let Common={redirectToLoginPage:function(){window.location.replace("index.html")},trimEnd:function(e,t){for(;e.charAt(e.length-1)===t;)e=e.substring(0,e.length-1);return e},get:function(e,t,n,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&t)if(""!==this.responseText){var e=JSON.parse(this.responseText);t(e)}else t()},i.onerror=function(){n&&n()},i.open("GET",e,!0),o&&i.setRequestHeader("Authorization",o),i.send()},post:function(e,t,n,o,i,s){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&t)if(""!==this.responseText){var e=JSON.parse(this.responseText);t(e)}else t()},r.onerror=function(){n&&n()},r.open("POST",e,!0),i&&r.setRequestHeader("Authorization",i),s===!0?r.send(o):r.send(JSON.stringify(o))},launchType:function(e){switch(e){case 0:return"Startup";case 1:return"Trigger";case 2:return"Periodic";case 3:return"Cron";default:return""}},status:function(e){switch(e){case 0:return"<img src='images/pending-small.png' /> Pending";case 1:return"<img src='images/running-small.png' /> Running";case 2:return"<img src='images/done-small.png' /> Done";case 3:return"<img src='images/failed-small.png' /> Failed";case 4:return"<img src='images/warning-small.png' /> Warning";case 6:return"<img src='images/stopped-small.png' /> Stopped";case 7:return"<img src='images/disapproved-small.png' /> Rejected";default:return""}},disableButton:function(e,t){e.disabled=t},formatDate:function(e){return("0"+e.getDate()).slice(-2)+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)},os:function(){var e="Unknown";return window.navigator.userAgent.indexOf("Windows NT 10.0")!==-1&&(e="Windows 10"),window.navigator.userAgent.indexOf("Windows NT 6.2")!==-1&&(e="Windows 8"),window.navigator.userAgent.indexOf("Windows NT 6.1")!==-1&&(e="Windows 7"),window.navigator.userAgent.indexOf("Windows NT 6.0")!==-1&&(e="Windows Vista"),window.navigator.userAgent.indexOf("Windows NT 5.1")!==-1&&(e="Windows XP"),window.navigator.userAgent.indexOf("Windows NT 5.0")!==-1&&(e="Windows 2000"),window.navigator.userAgent.indexOf("Mac")!==-1&&(e="Mac/iOS"),window.navigator.userAgent.indexOf("X11")!==-1&&(e="UNIX"),window.navigator.userAgent.indexOf("Linux")!==-1&&(e="Linux"),e},toastInfo:function(e){$.toast({heading:"Information",text:e,hideAfter:5e3,icon:"info"})},toastSuccess:function(e){$.toast({heading:"Success",text:e,hideAfter:5e3,icon:"success"})},toastError:function(e){$.toast({heading:"Error",text:e,hideAfter:5e3,icon:"error"})},escape:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}};var flowy=function(e,t,n,o,i,s,r){function a(e){t(e)}function l(){n()}function c(e,t,n){return o(e,t,n)}t||(t=function(){}),n||(n=function(){}),o||(o=function(){return!0}),s||(s=20),r||(r=80);var u=!1;flowy.load=function(){function t(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function n(e,t,n){S||I.appendChild(e);for(var o=0,i=0,s=0;s<b.filter(e=>e.parent==n[t]).length;s++){var r=b.filter(e=>e.parent==n[t])[s];o+=r.childwidth>r.width?r.childwidth+E:r.width+E}o+=parseInt(window.getComputedStyle(e).width);for(var s=0;s<b.filter(e=>e.parent==n[t]).length;s++){var r=b.filter(e=>e.parent==n[t])[s];r.childwidth>r.width?(document.querySelector(".blockid[value='"+r.id+"']").parentNode.style.left=b.filter(e=>e.id==n[t])[0].x-o/2+i+r.childwidth/2-r.width/2+"px",r.x=b.filter(e=>e.parent==n[t])[0].x-o/2+i+r.childwidth/2,i+=r.childwidth+E):(document.querySelector(".blockid[value='"+r.id+"']").parentNode.style.left=b.filter(e=>e.id==n[t])[0].x-o/2+i+"px",r.x=b.filter(e=>e.parent==n[t])[0].x-o/2+i+r.width/2,i+=r.width+E)}if(e.style.left=b.filter(e=>e.id==n[t])[0].x-o/2+i-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft+"px",e.style.top=b.filter(e=>e.id==n[t])[0].y+b.filter(e=>e.id==n[t])[0].height/2+B-(I.getBoundingClientRect().top+window.scrollY)+"px",S){k.filter(t=>t.id==parseInt(e.querySelector(".blockid").value))[0].x=e.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(e).width)/2+I.scrollLeft+I.scrollLeft,k.filter(t=>t.id==parseInt(e.querySelector(".blockid").value))[0].y=e.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(e).height)/2+I.scrollTop,k.filter(t=>t.id==e.querySelector(".blockid").value)[0].parent=n[t];for(var s=0;s<k.length;s++)if(k[s].id!=parseInt(e.querySelector(".blockid").value)){const e=document.querySelector(".blockid[value='"+k[s].id+"']").parentNode,t=document.querySelector(".arrowid[value='"+k[s].id+"']").parentNode;e.style.left=e.getBoundingClientRect().left+window.scrollX-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft,e.style.top=e.getBoundingClientRect().top+window.scrollY-(I.getBoundingClientRect().top+window.scrollY)+I.scrollTop,t.style.left=t.getBoundingClientRect().left+window.scrollX-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft+20,t.style.top=t.getBoundingClientRect().top+window.scrollY-(I.getBoundingClientRect().top+window.scrollY)+I.scrollTop,I.appendChild(e),I.appendChild(t),k[s].x=e.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(e).width)/2+I.scrollLeft,k[s].y=e.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(e).height)/2+I.scrollTop}b=b.concat(k),k=[]}else b.push({childwidth:0,parent:n[t],id:parseInt(e.querySelector(".blockid").value),x:e.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(e).width)/2+I.scrollLeft,y:e.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(e).height)/2+I.scrollTop,width:parseInt(window.getComputedStyle(e).width),height:parseInt(window.getComputedStyle(e).height)});var a=b.filter(t=>t.id==parseInt(e.querySelector(".blockid").value))[0],l=a.x-b.filter(e=>e.id==n[t])[0].x+20,c=parseFloat(a.y-a.height/2-(b.filter(e=>e.parent==n[t])[0].y+b.filter(e=>e.parent==n[t])[0].height/2)+I.scrollTop);if(l<0?(I.innerHTML+='<div class="arrowblock"><input type="hidden" class="arrowid" value="'+e.querySelector(".blockid").value+'"><svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M'+(b.filter(e=>e.id==n[t])[0].x-a.x+5)+" 0L"+(b.filter(e=>e.id==n[t])[0].x-a.x+5)+" "+B/2+"L5 "+B/2+"L5 "+c+'" stroke="#6CA5EC" stroke-width="2px"/></svg></div>',document.querySelector('.arrowid[value="'+e.querySelector(".blockid").value+'"]').parentNode.style.left=a.x-5-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft+"px"):(I.innerHTML+='<div class="arrowblock"><input type="hidden" class="arrowid" value="'+e.querySelector(".blockid").value+'"><svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 0L20 '+B/2+"L"+l+" "+B/2+"L"+l+" "+c+'" stroke="#6CA5EC" stroke-width="2px"/></svg></div>',document.querySelector('.arrowid[value="'+parseInt(e.querySelector(".blockid").value)+'"]').parentNode.style.left=b.filter(e=>e.id==n[t])[0].x-20-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft+"px"),document.querySelector('.arrowid[value="'+parseInt(e.querySelector(".blockid").value)+'"]').parentNode.style.top=b.filter(e=>e.id==n[t])[0].y+b.filter(e=>e.id==n[t])[0].height/2+"px",b.filter(e=>e.id==n[t])[0].parent!=-1){for(var u=!1,d=n[t];!u;)if(b.filter(e=>e.id==d)[0].parent==-1)u=!0;else{for(var f=0,s=0;s<b.filter(e=>e.parent==d).length;s++){var r=b.filter(e=>e.parent==d)[s];f+=r.childwidth>r.width?s==b.filter(e=>e.parent==d).length-1?r.childwidth:r.childwidth+E:s==b.filter(e=>e.parent==d).length-1?r.width:r.width+E}b.filter(e=>e.id==d)[0].childwidth=f,d=b.filter(e=>e.id==d)[0].parent}b.filter(e=>e.id==d)[0].childwidth=o}S&&(S=!1,e.classList.remove("dragging")),h(),p()}function o(e){if(_=!1,d(e.target,"block")){var t=e.target.closest(".block");e.targetTouches?(w=e.targetTouches[0].clientX,x=e.targetTouches[0].clientY):(w=e.clientX,x=e.clientY),"mouseup"!==e.type&&d(e.target,"block")&&3!=e.which&&(C||S||(_=!0,m=t,g=w-(m.getBoundingClientRect().left+window.scrollX),y=x-(m.getBoundingClientRect().top+window.scrollY)))}}function d(e,t){return!!(e.className&&e.className.split&&e.className.split(" ").indexOf(t)>=0)||e.parentNode&&d(e.parentNode,t)}function p(){T=b.map(e=>e.x);var e=b.map(e=>e.width),t=T.map(function(t,n){return t-e[n]/2});if((T=Math.min.apply(Math,t))<I.getBoundingClientRect().left+window.scrollX){N=!0;for(var n=b.map(e=>e.id),o=0;o<b.length;o++)if(document.querySelector(".blockid[value='"+b.filter(e=>e.id==n[o])[0].id+"']").parentNode.style.left=b.filter(e=>e.id==n[o])[0].x-b.filter(e=>e.id==n[o])[0].width/2-T+20,b.filter(e=>e.id==n[o])[0].parent!=-1){var i=b.filter(e=>e.id==n[o])[0],s=i.x-b.filter(e=>e.id==b.filter(e=>e.id==n[o])[0].parent)[0].x;document.querySelector('.arrowid[value="'+n[o]+'"]').parentNode.style.left=s<0?i.x-T+20-5+"px":b.filter(e=>e.id==b.filter(e=>e.id==n[o])[0].parent)[0].x-20-T+20+"px"}for(var o=0;o<b.length;o++)b[o].x=document.querySelector(".blockid[value='"+b[o].id+"']").parentNode.getBoundingClientRect().left+window.scrollX+(I.getBoundingClientRect().left+I.scrollLeft)-parseInt(window.getComputedStyle(document.querySelector(".blockid[value='"+b[o].id+"']").parentNode).width)/2-40;j=T}}function f(){if(j<I.getBoundingClientRect().left+window.scrollX){N=!1;for(var e=b.map(e=>e.id),t=0;t<b.length;t++)if(document.querySelector(".blockid[value='"+b.filter(n=>n.id==e[t])[0].id+"']").parentNode.style.left=b.filter(n=>n.id==e[t])[0].x-b.filter(n=>n.id==e[t])[0].width/2-j-20,b.filter(n=>n.id==e[t])[0].x=document.querySelector(".blockid[value='"+b.filter(n=>n.id==e[t])[0].id+"']").parentNode.getBoundingClientRect().left+window.scrollX+b.filter(n=>n.id==e[t])[0].width/2,b.filter(n=>n.id==e[t])[0].parent!=-1){var n=b.filter(n=>n.id==e[t])[0],o=n.x-b.filter(n=>n.id==b.filter(n=>n.id==e[t])[0].parent)[0].x;document.querySelector('.arrowid[value="'+e[t]+'"]').parentNode.style.left=o<0?n.x-5-(I.getBoundingClientRect().left+window.scrollX)+"px":b.filter(n=>n.id==b.filter(n=>n.id==e[t])[0].parent)[0].x-20-(I.getBoundingClientRect().left+window.scrollX)+"px"}j=0}}function h(){for(var e=b.map(e=>e.parent),t=0;t<e.length;t++){e[t]==-1&&t++;for(var n=0,o=0,i=0;i<b.filter(n=>n.parent==e[t]).length;i++){var s=b.filter(n=>n.parent==e[t])[i];0==b.filter(e=>e.parent==s.id).length&&(s.childwidth=0),n+=s.childwidth>s.width?i==b.filter(n=>n.parent==e[t]).length-1?s.childwidth:s.childwidth+E:i==b.filter(n=>n.parent==e[t]).length-1?s.width:s.width+E}e[t]!=-1&&(b.filter(n=>n.id==e[t])[0].childwidth=n);for(var i=0;i<b.filter(n=>n.parent==e[t]).length;i++){var s=b.filter(n=>n.parent==e[t])[i];const c=document.querySelector(".blockid[value='"+s.id+"']").parentNode,u=b.filter(n=>n.id==e[t]);c.style.top=u.y+B+"px",u.y=u.y+B,s.childwidth>s.width?(s.x=u[0].x-n/2+o+s.childwidth/2,o+=s.childwidth+E):(s.x=u[0].x-n/2+o+s.width/2,o+=s.width+E);var r=b.filter(e=>e.id==s.id)[0],a=r.x-b.filter(e=>e.id==s.parent)[0].x+20,l=r.y-r.height/2-(b.filter(e=>e.id==s.parent)[0].y+b.filter(e=>e.id==s.parent)[0].height/2);document.querySelector('.arrowid[value="'+s.id+'"]').parentNode.style.top=b.filter(e=>e.id==s.parent)[0].y+b.filter(e=>e.id==s.parent)[0].height/2-(I.getBoundingClientRect().top+window.scrollY)+"px",document.querySelector('.arrowid[value="'+s.id+'"]').parentNode.innerHTML=a<0?'<input type="hidden" class="arrowid" value="'+s.id+'"><svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M'+(b.filter(e=>e.id==s.parent)[0].x-r.x+5)+" 0L"+(b.filter(e=>e.id==s.parent)[0].x-r.x+5)+" "+B/2+"L5 "+B/2+"L5 "+l+'" stroke="#6CA5EC" stroke-width="2px"/></svg>':'<input type="hidden" class="arrowid" value="'+s.id+'"><svg preserveaspectratio="none" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 0L20 '+B/2+"L"+a+" "+B/2+"L"+a+" "+l+'" stroke="#6CA5EC" stroke-width="2px"/></svg>'}}}if(!u){u=!0;var m,g,y,v,w,x,b=[],k=[],I=e,C=!1,E=s,B=r,T=0,j=0,S=!1,N=!1,_=!1;flowy.import=function(e){I.innerHTML=e.html,b=e.blockarr,L=[];for(let e=0;e<b.length-1;e++)L.push(e)},flowy.output=function(){var e=JSON.stringify(I.innerHTML),t={html:e,blockarr:b,blocks:[]};if(b.length>0){for(var n=0;n<b.length;n++){t.blocks.push({id:b[n].id,parent:b[n].parent,data:[],attr:[]})
;var o=document.querySelector(".blockid[value='"+b[n].id+"']").parentNode;o.querySelectorAll("input").forEach(function(e){var o=e.getAttribute("name"),i=e.value;t.blocks[n].data.push({name:o,value:i})}),Array.prototype.slice.call(o.attributes).forEach(function(e){var o={};o[e.name]=e.value,t.blocks[n].attr.push(o)})}return t}},flowy.deleteBlocks=function(){b=[],I.innerHTML="<div class='indicator invisible'></div>"},flowy.beginDrag=function(e){if(e.targetTouches?(w=e.changedTouches[0].clientX,x=e.changedTouches[0].clientY):(w=e.clientX,x=e.clientY),3!=e.which&&e.target.closest(".create-flowy")){v=e.target.closest(".create-flowy");var t=e.target.closest(".create-flowy").cloneNode(!0);e.target.closest(".create-flowy").classList.add("dragnow"),t.classList.add("block"),t.classList.remove("create-flowy"),0===b.length?(t.innerHTML+="<input type='hidden' name='blockid' class='blockid' value='"+b.length+"'>",document.body.appendChild(t),m=document.querySelector(".blockid[value='"+b.length+"']").parentNode):(t.innerHTML+="<input type='hidden' name='blockid' class='blockid' value='"+(Math.max.apply(Math,b.map(e=>e.id))+1)+"'>",document.body.appendChild(t),m=document.querySelector(".blockid[value='"+(parseInt(Math.max.apply(Math,b.map(e=>e.id)))+1)+"']").parentNode),a(e.target.closest(".create-flowy")),m.classList.add("dragging"),C=!0,g=w-e.target.closest(".create-flowy").offsetLeft,y=x-(e.target.closest(".create-flowy").offsetTop+(e.target.closest(".create-flowy").parentNode&&e.target.closest(".create-flowy").parentNode.parentNode?e.target.closest(".create-flowy").parentNode.parentNode.offsetTop:0)-(e.target.closest(".create-flowy").parentNode?e.target.closest(".create-flowy").parentNode.scrollTop:0)),m.style.left=w-g+"px",m.style.top=x-y+"px"}},document.addEventListener("mousedown",o,!1),document.addEventListener("touchstart",o,!1),document.addEventListener("mouseup",o,!1),flowy.touchDone=function(){_=!1},document.addEventListener("mousedown",flowy.beginDrag),document.addEventListener("touchstart",flowy.beginDrag),flowy.endDrag=function(e){if(3!=e.which&&(C||S))if(_=!1,l(),document.querySelector(".indicator")&&!document.querySelector(".indicator").classList.contains("invisible")&&document.querySelector(".indicator").classList.add("invisible"),C&&(v.classList.remove("dragnow"),m.classList.remove("dragging")),0===parseInt(m.querySelector(".blockid").value)&&S){m.classList.remove("dragging"),S=!1;for(var o=0;o<k.length;o++)if(k[o].id!=parseInt(m.querySelector(".blockid").value)){const e=document.querySelector(".blockid[value='"+k[o].id+"']").parentNode,t=document.querySelector(".arrowid[value='"+k[o].id+"']").parentNode;e.style.left=e.getBoundingClientRect().left+window.scrollX-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft,e.style.top=e.getBoundingClientRect().top+window.scrollY-(I.getBoundingClientRect().top+window.scrollY)+I.scrollTop,t.style.left=t.getBoundingClientRect().left+window.scrollX-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft,t.style.top=t.getBoundingClientRect().top+window.scrollY-(I.getBoundingClientRect().top+I.scrollTop)+"px",I.appendChild(e),I.appendChild(t),k[o].x=e.getBoundingClientRect().left+window.scrollX+parseInt(e.offsetWidth)/2+I.scrollLeft,k[o].y=e.getBoundingClientRect().top+window.scrollY+parseInt(e.offsetHeight)/2+I.scrollTop}k.filter(e=>0==e.id)[0].x=m.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(m).width)/2,k.filter(e=>0==e.id)[0].y=m.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(m).height)/2,b=b.concat(k),k=[]}else if(C&&0==b.length&&m.getBoundingClientRect().top+window.scrollY>I.getBoundingClientRect().top+window.scrollY&&m.getBoundingClientRect().left+window.scrollX>I.getBoundingClientRect().left+window.scrollX)c(m,!0,void 0),C=!1,m.style.top=m.getBoundingClientRect().top+window.scrollY-(I.getBoundingClientRect().top+window.scrollY)+I.scrollTop+"px",m.style.left=m.getBoundingClientRect().left+window.scrollX-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft+"px",I.appendChild(m),b.push({parent:-1,childwidth:0,id:parseInt(m.querySelector(".blockid").value),x:m.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(m).width)/2+I.scrollLeft,y:m.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(m).height)/2+I.scrollTop,width:parseInt(window.getComputedStyle(m).width),height:parseInt(window.getComputedStyle(m).height)});else if(C&&0==b.length)m.parentNode&&m.parentNode.removeChild(m);else if(C||S)for(var s=m.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(m).width)/2+I.scrollLeft,r=m.getBoundingClientRect().top+window.scrollY+I.scrollTop,a=b.map(e=>e.id),u=0;u<b.length;u++){if(b.filter(e=>e.id==a[u])[0]&&s>=b.filter(e=>e.id==a[u])[0].x-b.filter(e=>e.id==a[u])[0].width/2-E&&s<=b.filter(e=>e.id==a[u])[0].x+b.filter(e=>e.id==a[u])[0].width/2+E&&r>=b.filter(e=>e.id==a[u])[0].y-b.filter(e=>e.id==a[u])[0].height/2&&r<=b.filter(e=>e.id==a[u])[0].y+b.filter(e=>e.id==a[u])[0].height){C=!1,L.includes(u)&&a.length>0?(m.parentNode.removeChild(m),i&&i(m,u)):!S&&c(m,!1,b.filter(e=>e.id==a[u])[0])?(n(m,u,a),L.push(u)):S&&(n(m,u,a),L.push(u));break}if(u==b.length-1){S&&(S=!1,k=[]),C=!1;let e=m.querySelectorAll(".block"),n=e[e.length-1],o=0;o=n?parseInt(n.querySelector(".blockid").value):parseInt(m.querySelector(".blockid").value);for(let e=o;e>=u;e--)t(L,e);m.parentNode&&0==e.length&&m.parentNode.removeChild(m)}}};var L=[];document.addEventListener("mouseup",flowy.endDrag,!1),document.addEventListener("touchend",flowy.endDrag,!1),flowy.moveBlock=function(e){let t=-1;if(m&&(t=parseInt(m.querySelector(".blockid").value)),m&&(0===t||t===b.length)){if(e.targetTouches?(w=e.targetTouches[0].clientX,x=e.targetTouches[0].clientY):(w=e.clientX,x=e.clientY),_){S=!0,m.classList.add("dragging");var n=parseInt(m.querySelector(".blockid").value);k.push(b.filter(e=>e.id==n)[0]),b=b.filter(function(e){return e.id!=n}),0!=n&&document.querySelector(".arrowid[value='"+n+"']").parentNode.remove();for(var o=b.filter(e=>e.parent==n),i=!1,s=[],r=[];!i;){for(var a=0;a<o.length;a++)if(o[a]!=n){k.push(b.filter(e=>e.id==o[a].id)[0]);const e=document.querySelector(".blockid[value='"+o[a].id+"']").parentNode,t=document.querySelector(".arrowid[value='"+o[a].id+"']").parentNode;e.style.left=e.getBoundingClientRect().left+window.scrollX-(m.getBoundingClientRect().left+window.scrollX),e.style.top=e.getBoundingClientRect().top+window.scrollY-(m.getBoundingClientRect().top+window.scrollY),t.style.left=t.getBoundingClientRect().left+window.scrollX-(m.getBoundingClientRect().left+window.scrollX),t.style.top=t.getBoundingClientRect().top+window.scrollY-(m.getBoundingClientRect().top+window.scrollY),m.appendChild(e),m.appendChild(t),s.push(o[a].id),r.push(o[a].id)}0==s.length?i=!0:(o=b.filter(e=>s.includes(e.parent)),s=[])}for(var a=0;a<b.filter(e=>e.parent==n).length;a++){var l=b.filter(e=>e.parent==n)[a];b=b.filter(function(e){return e.id!=l})}for(var a=0;a<r.length;a++){var l=r[a];b=b.filter(function(e){return e.id!=l})}b.length>1&&h(),N&&f(),_=!1}C?(m.style.left=w-g+"px",m.style.top=x-y+"px"):S&&(m.style.left=w-g-(I.getBoundingClientRect().left+window.scrollX)+I.scrollLeft+"px",m.style.top=x-y-(I.getBoundingClientRect().top+window.scrollY)+I.scrollTop+"px",k.filter(e=>e.id==parseInt(m.querySelector(".blockid").value)).x=m.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(m).width)/2+I.scrollLeft,k.filter(e=>e.id==parseInt(m.querySelector(".blockid").value)).y=m.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(m).height)/2+I.scrollTop)}},document.addEventListener("mousemove",flowy.moveBlock,!1),document.addEventListener("touchmove",flowy.moveBlock,!1)}},flowy.load()};!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return e.jBox=t(n)}):"object"==typeof module&&module.exports?module.exports=e.jBox=t(require("jquery")):e.jBox=t(e.jQuery)}(this,function(e){var t=jBoxWrapper(e);try{void 0!==jBoxConfirmWrapper&&jBoxConfirmWrapper&&jBoxConfirmWrapper(t,e)}catch(e){console.error(e)}try{void 0!==jBoxImageWrapper&&jBoxImageWrapper&&jBoxImageWrapper(t,e)}catch(e){console.error(e)}try{void 0!==jBoxNoticeWrapper&&jBoxNoticeWrapper&&jBoxNoticeWrapper(t,e)}catch(e){console.error(e)}return t}),function(){function e(e){return U(e)&&ce.call(e,"callee")&&!he.call(e,"callee")}function t(e,t){return e.push.apply(e,t),e}function n(e){return function(t){return null==t?Z:t[e]}}function o(e,t,n,o,i){return i(e,function(e,i,s){n=o?(o=!1,e):t(n,e,i,s)}),n}function i(e,t){return w(t,function(t){return e[t]})}function s(e){return e instanceof r?e:new r(e)}function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t}function a(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout(function(){e.apply(Z,n)},t)}function l(e,t){var n=!0;return we(e,function(e,o,i){return n=!!t(e,o,i)}),n}function c(e,t,n){for(var o=-1,i=e.length;++o<i;){var s=e[o],r=t(s);if(null!=r&&(a===Z?r===r:n(r,a)))var a=r,l=s}return l}function u(e,t){var n=[];return we(e,function(e,o,i){t(e,o,i)&&n.push(e)}),n}function d(e,n,o,i,s){var r=-1,a=e.length;for(o||(o=A),s||(s=[]);++r<a;){var l=e[r];0<n&&o(l)?1<n?d(l,n-1,o,i,s):t(s,l):i||(s[s.length]=l)}return s}function p(e,t){return e&&xe(e,t,Le)}function f(e,t){return u(t,function(t){return z(e[t])})}function h(e,t){return e>t}function m(e,t,n,o,i){return e===t||(null==e||null==t||!U(e)&&!U(t)?e!==e&&t!==t:g(e,t,n,o,m,i))}function g(e,t,n,o,i,s){var r=Be(e),a=Be(t),l=r?"[object Array]":de.call(e),c=a?"[object Array]":de.call(t),l="[object Arguments]"==l?"[object Object]":l,c="[object Arguments]"==c?"[object Object]":c,u="[object Object]"==l,a="[object Object]"==c,c=l==c;s||(s=[]);var d=ke(s,function(t){return t[0]==e}),p=ke(s,function(e){return e[0]==t});if(d&&p)return d[1]==t;if(s.push([e,t]),s.push([t,e]),c&&!u){if(r)n=_(e,t,n,o,i,s);else e:{switch(l){case"[object Boolean]":case"[object Date]":case"[object Number]":n=V(+e,+t);break e;case"[object Error]":n=e.name==t.name&&e.message==t.message;break e;case"[object RegExp]":case"[object String]":n=e==t+"";break e}n=!1}return s.pop(),n}return 1&n||(r=u&&ce.call(e,"__wrapped__"),l=a&&ce.call(t,"__wrapped__"),!r&&!l)?!!c&&(n=L(e,t,n,o,i,s),s.pop(),n):(r=r?e.value():e,l=l?t.value():t,n=i(r,l,n,o,s),s.pop(),n)}function y(e){return"function"==typeof e?e:null==e?G:("object"==typeof e?x:n)(e)}function v(e,t){return e<t}function w(e,t){var n=-1,o=X(e)?Array(e.length):[];return we(e,function(e,i,s){o[++n]=t(e,i,s)}),o}function x(e){var t=ge(e);return function(n){var o=t.length;if(null==n)return!o;for(n=Object(n);o--;){var i=t[o];if(!(i in n&&m(e[i],n[i],3)))return!1}return!0}}function b(e,t){return e=Object(e),M(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function k(e){return be(D(e,void 0,G),e+"")}function I(e,t,n){var o=-1,i=e.length;for(0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0,n=Array(i);++o<i;)n[o]=e[o+t];return n}function C(e){return I(e,0,e.length)}function E(e,t){var n;return we(e,function(e,o,i){return!(n=t(e,o,i))}),!!n}function B(e,n){return M(n,function(e,n){return n.func.apply(n.thisArg,t([e],n.args))},e)}function T(e,t,n){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var r=t[i],a=Z;if(a===Z&&(a=e[r]),o)n[r]=a;else{var l=n,c=l[r];ce.call(l,r)&&V(c,a)&&(a!==Z||r in l)||(l[r]=a)}}return n}function j(e){return k(function(t,n){var o=-1,i=n.length,s=1<i?n[i-1]:Z,s=3<e.length&&"function"==typeof s?(i--,s):Z;for(t=Object(t);++o<i;){var r=n[o];r&&e(t,r,o,s)}return t})}function S(e){return function(){var t=arguments,n=ve(e.prototype),t=e.apply(n,t);return F(t)?t:n}}function N(e,t,n){function o(){for(var s=-1,r=arguments.length,a=-1,l=n.length,c=Array(l+r),u=this&&this!==ie&&this instanceof o?i:e;++a<l;)c[a]=n[a];for(;r--;)c[a++]=arguments[++s];return u.apply(t,c)}if("function"!=typeof e)throw new TypeError("Expected a function");var i=S(e);return o}function _(e,t,n,o,i,s){var r=e.length,a=t.length;if(r!=a&&!(1&n&&a>r))return!1;for(var a=-1,l=!0,c=2&n?[]:Z;++a<r;){var u=e[a],d=t[a];if(void 0!==Z){l=!1;break}if(c){if(!E(t,function(e,t){if(!H(c,t)&&(u===e||i(u,e,n,o,s)))return c.push(t)})){l=!1;break}}else if(u!==d&&!i(u,d,n,o,s)){l=!1;break}}return l}function L(e,t,n,o,i,s){var r=1&n,a=Le(e),l=a.length,c=Le(t).length;if(l!=c&&!r)return!1;for(var u=l;u--;){var d=a[u];if(!(r?d in t:ce.call(t,d)))return!1}for(c=!0;++u<l;){var d=a[u],p=e[d],f=t[d];if(void 0!==Z||p!==f&&!i(p,f,n,o,s)){c=!1;break}r||(r="constructor"==d)}return c&&!r&&(n=e.constructor,o=t.constructor,n!=o&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof o&&o instanceof o)&&(c=!1)),c}function A(t){return Be(t)||e(t)}function O(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function D(e,t,n){return t=ye(t===Z?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=ye(o.length-t,0),r=Array(s);++i<s;)r[i]=o[t+i];for(i=-1,s=Array(t+1);++i<t;)s[i]=o[i];return s[t]=n(r),e.apply(this,s)}}function W(e){return(null==e?0:e.length)?d(e,1):[]}function q(e){return e&&e.length?e[0]:Z}function H(e,t,n){var o=null==e?0:e.length;n="number"==typeof n?0>n?ye(o+n,0):n:0,n=(n||0)-1;for(var i=t===t;++n<o;){var s=e[n];if(i?s===t:s!==s)return n}return-1}function R(e,t){return we(e,y(t))}function M(e,t,n){return o(e,y(t),n,3>arguments.length,we)}function P(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=Te(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=Z),n}}function V(e,t){return e===t||e!==e&&t!==t}function X(e){var t;return(t=null!=e)&&(t=e.length,t="number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t),t&&!z(e)}function z(e){return!!F(e)&&("[object Function]"==(e=de.call(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function F(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function U(e){return null!=e&&"object"==typeof e}function Y(e){return"number"==typeof e||U(e)&&"[object Number]"==de.call(e)}function $(e){return"string"==typeof e||!Be(e)&&U(e)&&"[object String]"==de.call(e)}function J(e){return"string"==typeof e?e:null==e?"":e+""}function K(e){return null==e?[]:i(e,Le(e))}function G(e){return e}function Q(e,n,o){var i=Le(n),s=f(n,i);null!=o||F(n)&&(s.length||!i.length)||(o=n,n=e,e=this,s=f(n,Le(n)));var r=!(F(o)&&"chain"in o&&!o.chain),a=z(e);return we(s,function(o){var i=n[o];e[o]=i,a&&(e.prototype[o]=function(){var n=this.__chain__;if(r||n){var o=e(this.__wrapped__);return(o.__actions__=C(this.__actions__)).push({func:i,args:arguments,thisArg:e}),o.__chain__=n,o}return i.apply(e,t([this.value()],arguments))})}),e}var Z,ee=/[&<>"']/g,te=RegExp(ee.source),ne=/^(?:0|[1-9]\d*)$/,oe="object"==typeof self&&self&&self.Object===Object&&self,ie="object"==typeof global&&global&&global.Object===Object&&global||oe||Function("return this")(),se=(oe="object"==typeof exports&&exports&&!exports.nodeType&&exports)&&"object"==typeof module&&module&&!module.nodeType&&module,re=function(e){return function(t){return null==e?Z:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),ae=Array.prototype,le=Object.prototype,ce=le.hasOwnProperty,ue=0,de=le.toString,pe=ie._,fe=Object.create,he=le.propertyIsEnumerable,me=ie.isFinite,ge=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ye=Math.max,ve=function(){function e(){}return function(t){return F(t)?fe?fe(t):(e.prototype=t,t=new e,e.prototype=Z,t):{}}}();r.prototype=ve(s.prototype),r.prototype.constructor=r;var we=function(e,t){return function(t,n){if(null==t)return t;if(!X(t))return e(t,n);for(var o=t.length,i=-1,s=Object(t);++i<o&&!1!==n(s[i],i,s););return t}}(p),xe=function(e){return function(e,t,n){var o=-1,i=Object(e);n=n(e);for(var s=n.length;s--;){var r=n[++o];if(!1===t(i[r],r,i))break}return e}}(),be=G,ke=function(e){return function(t,n,o){var i=Object(t);if(!X(t)){var s=y(n);t=Le(t),n=function(e){return s(i[e],e,i)}}return n=e(t,n,o),-1<n?i[s?t[n]:n]:Z}}(function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;0>(n=null==n?0:Te(n))&&(n=ye(o+n,0));e:{for(t=y(t),o=e.length,n+=-1;++n<o;)if(t(e[n],n,e)){e=n;break e}e=-1}return e}),Ie=k(function(e,t,n){return N(e,t,n)}),Ce=k(function(e,t){return a(e,1,t)}),Ee=k(function(e,t,n){return a(e,je(t)||0,n)}),Be=Array.isArray,Te=Number,je=Number,Se=j(function(e,t){T(t,ge(t),e)}),Ne=j(function(e,t){T(t,O(t),e)}),_e=k(function(e,t){e=Object(e);var n,o=-1,i=t.length,s=2<i?t[2]:Z;if(n=s){n=t[0];var r=t[1];if(F(s)){var a=typeof r;if("number"==a){if(a=X(s))var a=s.length,l=typeof r,a=null==a?9007199254740991:a,a=!!a&&("number"==l||"symbol"!=l&&ne.test(r))&&-1<r&&0==r%1&&r<a}else a="string"==a&&r in s;n=!!a&&V(s[r],n)}else n=!1}for(n&&(i=1);++o<i;)for(s=t[o],n=Ae(s),r=-1,a=n.length;++r<a;){var l=n[r],c=e[l];(c===Z||V(c,le[l])&&!ce.call(e,l))&&(e[l]=s[l])}return e}),Le=ge,Ae=O,Oe=function(e){return be(D(e,Z,W),e+"")}(function(e,t){return null==e?{}:b(e,t)});s.assignIn=Ne,s.before=P,s.bind=Ie,s.chain=function(e){return e=s(e),e.__chain__=!0,e},s.compact=function(e){return u(e,Boolean)},s.concat=function(){var e=arguments.length;if(!e)return[];for(var n=Array(e-1),o=arguments[0];e--;)n[e-1]=arguments[e];return t(Be(o)?C(o):[o],d(n,1))},s.create=function(e,t){var n=ve(e);return null==t?n:Se(n,t)},s.defaults=_e,s.defer=Ce,s.delay=Ee,s.filter=function(e,t){return u(e,y(t))},s.flatten=W,s.flattenDeep=function(e){return(null==e?0:e.length)?d(e,1/0):[]},s.iteratee=y,s.keys=Le,s.map=function(e,t){return w(e,y(t))},s.matches=function(e){return x(Se({},e))},s.mixin=Q,s.negate=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){return!e.apply(this,arguments)}},s.once=function(e){return P(2,e)},s.pick=Oe,s.slice=function(e,t,n){var o=null==e?0:e.length;return n=n===Z?o:+n,o?I(e,null==t?0:+t,n):[]},s.sortBy=function(e,t){var o=0;return t=y(t),w(w(e,function(e,n,i){return{value:e,index:o++,criteria:t(e,n,i)}}).sort(function(e,t){var n;e:{n=e.criteria;var o=t.criteria;if(n!==o){var i=n!==Z,s=null===n,r=n===n,a=o!==Z,l=null===o,c=o===o;if(!l&&n>o||s&&a&&c||!i&&c||!r){n=1;break e}if(!s&&n<o||l&&i&&r||!a&&r||!c){n=-1;break e}}n=0}return n||e.index-t.index}),n("value"))},s.tap=function(e,t){return t(e),e},s.thru=function(e,t){return t(e)},s.toArray=function(e){return X(e)?e.length?C(e):[]:K(e)},s.values=K,s.extend=Ne,Q(s,s),s.clone=function(e){return F(e)?Be(e)?C(e):T(e,ge(e)):e},s.escape=function(e){return(e=J(e))&&te.test(e)?e.replace(ee,re):e},s.every=function(e,t,n){return t=n?Z:t,l(e,y(t))},s.find=ke,s.forEach=R,s.has=function(e,t){return null!=e&&ce.call(e,t)},s.head=q,s.identity=G,s.indexOf=H,s.isArguments=e,s.isArray=Be,s.isBoolean=function(e){return!0===e||!1===e||U(e)&&"[object Boolean]"==de.call(e)},s.isDate=function(e){return U(e)&&"[object Date]"==de.call(e)},s.isEmpty=function(t){return X(t)&&(Be(t)||$(t)||z(t.splice)||e(t))?!t.length:!ge(t).length},s.isEqual=function(e,t){return m(e,t)},s.isFinite=function(e){return"number"==typeof e&&me(e)},s.isFunction=z,s.isNaN=function(e){return Y(e)&&e!=+e},s.isNull=function(e){return null===e},s.isNumber=Y,s.isObject=F,s.isRegExp=function(e){return U(e)&&"[object RegExp]"==de.call(e)},s.isString=$,s.isUndefined=function(e){return e===Z},s.last=function(e){var t=null==e?0:e.length;return t?e[t-1]:Z},s.max=function(e){return e&&e.length?c(e,G,h):Z},s.min=function(e){return e&&e.length?c(e,G,v):Z},s.noConflict=function(){return ie._===this&&(ie._=pe),this},s.noop=function(){},s.reduce=M,s.result=function(e,t,n){return t=null==e?Z:e[t],t===Z&&(t=n),z(t)?t.call(e):t},s.size=function(e){return null==e?0:(e=X(e)?e:ge(e),e.length)},s.some=function(e,t,n){return t=n?Z:t,E(e,y(t))},s.uniqueId=function(e){var t=++ue;return J(e)+t},s.each=R,s.first=q,Q(s,function(){var e={};return p(s,function(t,n){ce.call(s.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),s.VERSION="4.17.10",we("pop join replace reverse split push shift sort splice unshift".split(" "),function(e){var t=(/^(?:replace|split)$/.test(e)?String.prototype:ae)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|join|replace|shift)$/.test(e);s.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var i=this.value();return t.apply(Be(i)?i:[],e)}return this[n](function(n){return t.apply(Be(n)?n:[],e)})}}),s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=function(){return B(this.__wrapped__,this.__actions__)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ie._=s,define(function(){return s})):se?((se.exports=s)._=s,oe._=s):ie._=s}.call(this),window.onload=function(){"use strict";function e(){function e(){Common.get(t+"/searchTaskNames?s="+M.value,function(e){let t="";for(let n=0;n<e.length;n++){let o=e[n];t+='<div class="blockelem create-flowy noselect"><input type="hidden" name="blockelemtype" class="blockelemtype" value="'+o.Name+'"><input type="hidden" name="blockelemdesc" class="blockelemdesc" value="'+o.Description+'"><div class="grabme"><img src="assets/grabme.svg"></div><div class="blockin"><div class="blockico"><span></span><img src="assets/action.svg"></div><div class="blocktext"><p class="blocktitle">'+o.Name+'</p><p class="blockdesc">'+o.Description+'</p></div></div><div class="indicator invisible" style="left: 154px; top: 100px;"></div></div>'}document.getElementById("blocklist").innerHTML=t},function(){Common.toastError("An error occured while retrieving task names.")},x)}function d(e,t){let n=e.querySelector(".grabme");n.parentNode.removeChild(n);let o=e.querySelector(".blockin");o.parentNode.removeChild(o);let i=e.querySelector(".blockelemtype").value,s=e.querySelector(".blockelemdesc").value;e.innerHTML+="<div class='blockyleft'><img src='assets/actionorange.svg'><p class='blockyname'>"+i+"</p></div><div class='blockyright'><img src='assets/close.svg' class='removediagblock'></div><div class='blockydiv'></div><div class='blockyinfo'>"+s+"</div>";let r=parseInt(e.querySelector(".blockid").value);return K[r]||(K[r]={Id:0,Name:i,Description:"",IsEnabled:!0,Settings:[]},b()),!0}function h(e,t){let n=flowy.output(),o=n.blocks;for(let e=t+1;e<o.length;e++)o[e].id++,o[e].parent++,o[e].data[2].value=e+1;let i=0,s=g.querySelectorAll(".blockelem");for(let e=0;e<s.length;e++){let n=parseInt(s[e].querySelector(".blockid").value);if(n===t){i=parseInt(s[e].style.left);break}}o.splice(t+1,0,{id:t+1,parent:t,data:[{name:"blockelemtype",value:e.querySelector(".blockelemtype").value},{name:"blockelemdesc",value:e.querySelector(".blockelemdesc").value},{name:"blockid",value:t+1}],attr:[{class:"blockelem noselect block"},{style:"left: "+i+"px; top: 17px;"}]});let r=0;for(;K[r];)r++;let a={};for(let e=r-1;e>t;e--)a[e+1]=K[e],K[e+1]=K[e];for(let e=0;e<=t;e++)a[e]=K[e];a[t+1]={Id:0,Name:e.querySelector(".blockelemtype").value,Description:"",IsEnabled:!0,Settings:[]},K=a,fe.Tasks=[];for(let e=0;e<o.length;e++)fe.Tasks.push(K[parseInt(o[e].data[2].value)]);let l="";for(let e=0;e<o.length;e++){let t=o[e],n=parseInt(t.attr[1].style.split(";")[0].replace("left:","").replace(" ","").replace("px",""));l+="<div class='blockelem noselect block' style='left: "+n+"px; top: "+(25+180*e)+"px;'><input type='hidden' name='blockelemtype' class='blockelemtype' value='"+t.data[0].value+"'><input type='hidden' name='blockelemdesc' class='blockelemdesc' value='"+t.data[1].value+"'><input type='hidden' name='blockid' class='blockid' value='"+e+"'><div class='blockyleft'><img src='assets/actionorange.svg'><p class='blockyname'>"+K[e].Id+". "+K[e].Name+"</p></div><div class='blockyright'><img class='removediagblock' src='assets/close.svg'></div><div class='blockydiv'></div><div class='blockyinfo'>"+t.data[1].value+"</div><div class='indicator invisible' style='left: 154px; top: 100px;'></div></div>",e<o.length-1&&(l+="<div class='arrowblock' style='left: "+(n+139)+"px; top: "+(125+180*e)+"px;'><input type='hidden' class='arrowid' value='"+(e+1)+"'><svg preserveAspectRatio='none' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M20 0L20 40L20 40L20 80' stroke='#6CA5EC' stroke-width='2px'></path></svg></div>")}let c=[];for(let e=0;e<o.length;e++)c.push({parent:e-1,childwidth:e<o.length-1?318:0,id:e,x:n.blockarr[0].x,y:190+180*e,width:318,height:100});let u={html:l,blockarr:c};flowy.import(u)}function y(e){e.classList.add("blockdisabled"),R=e}function v(){R&&R.classList.remove("blockdisabled")}function w(){J&&(J=!1,document.getElementById("properties").classList.remove("expanded"),setTimeout(function(){document.getElementById("propwrap").classList.remove("itson"),Y.style.right="0"},300),H.classList.remove("selectedblock"))}function b(){let e=flowy.output();if(e){let t=e.blocks,n=0;for(;K[n];)n++;for(let e=0;e<n;e++){let n=!1;for(let o=0;o<t.length;o++){let i=parseInt(t[o].data[2].value);if(i===e){n=!0;break}}n===!1&&(K[e]=null)}for(let e=0;e<t.length;e++)K[e]||(K[e]={Id:0,Name:t[e].data[0].value,Description:"",IsEnabled:!0,Settings:[]});fe.Tasks=[];for(let e=0;e<t.length;e++)fe.Tasks.push(K[parseInt(t[e].data[2].value)]);let o=document.getElementsByClassName("removediagblock");for(let n=0;n<o.length;n++){let i=o[n];i.onclick=function(){let n=parseInt(this.closest(".block").querySelector(".blockid").value),o=t[n].data[0].value;if(confirm("Are you sure you want to delete the task "+o+"?")===!0){for(let e=n;e<t.length;e++)e+1<t.length?K[e]=K[e+1]:K[e]=null;t.splice(n,1),fe.Tasks=[];for(let e=0;e<t.length;e++)fe.Tasks.push(K[parseInt(t[e].data[2].value)]);let o="";for(let e=0;e<t.length;e++){let n=t[e],i=parseInt(n.attr[1].style.split(";")[0].replace("left:","").replace(" ","").replace("px",""));o+="<div class='blockelem noselect block' style='left: "+i+"px; top: "+(25+180*e)+"px;'><input type='hidden' name='blockelemtype' class='blockelemtype' value='"+n.data[0].value+"'><input type='hidden' name='blockelemdesc' class='blockelemdesc' value='"+n.data[1].value+"'><input type='hidden' name='blockid' class='blockid' value='"+e+"'><div class='blockyleft'><img src='assets/actionorange.svg'><p class='blockyname'>"+K[e].Id+". "+K[e].Name+"</p></div><div class='blockyright'><img class='removediagblock' src='assets/close.svg'></div><div class='blockydiv'></div><div class='blockyinfo'>"+n.data[1].value+"</div><div class='indicator invisible' style='left: 154px; top: 100px;'></div></div>",e<t.length-1&&(o+="<div class='arrowblock' style='left: "+(i+139)+"px; top: "+(125+180*e)+"px;'><input type='hidden' class='arrowid' value='"+(e+1)+"'><svg preserveAspectRatio='none' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M20 0L20 40L20 40L20 80' stroke='#6CA5EC' stroke-width='2px'></path></svg></div>")}let i=[];for(let n=0;n<t.length;n++)i.push({parent:n-1,childwidth:n<t.length-1?318:0,id:n,x:e.blockarr[0].x,y:190+180*n,width:318,height:100});let s={html:o,blockarr:i};flowy.import(s),J=!1,document.getElementById("properties").classList.remove("expanded"),setTimeout(function(){document.getElementById("propwrap").classList.remove("itson"),Y.style.right="0"},0)}else{J=!1,document.getElementById("properties").classList.remove("expanded"),setTimeout(function(){document.getElementById("propwrap").classList.remove("itson"),Y.style.right="0"},0);let e=document.getElementsByClassName("selectedblock")[0];e&&e.classList.remove("selectedblock")}}}}}function k(e){switch(e){case"startup":return 0;case"trigger":return 1;case"periodic":return 2;case"cron":return 3;default:return-1}}function I(e){switch(e){case 0:return"startup";case 1:return"trigger";case 2:return"periodic";case 3:return"cron";default:return""}}function C(e){return/^\+?(0|[1-9]\d*)$/.test(e)}function E(e){let n={message0:"Task %1",args0:[{type:"field_number",name:"TASK",check:"Number"}],previousStatement:null,nextStatement:null,colour:230};Blockly.Blocks.task={init:function(){this.jsonInit(n);let e=this;this.setTooltip(function(){let t=parseInt(e.getFieldValue("TASK")),n="",o="";for(let e=0;e<fe.Tasks.length;e++){let i=fe.Tasks[e];if(i.Id===t){n=i.Name,o=i.Description;break}}return"Task %1".replace("%1",t)+" - "+n+" - "+o})}};let o={message0:"If %1 Do %2 Else %3",args0:[{type:"field_number",name:"IF",check:"Number"},{type:"input_statement",name:"DO"},{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:160};Blockly.Blocks.if={init:function(){this.jsonInit(o);let e=this;this.setTooltip(function(){let t=parseInt(e.getFieldValue("IF")),n="",o="";for(let e=0;e<fe.Tasks.length;e++){let i=fe.Tasks[e];if(i.Id===t){n=i.Name,o=i.Description;break}}return"If(%1)".replace("%1",t)+" - "+n+" - "+o})}};let i={message0:"While %1 %2",args0:[{type:"field_number",name:"WHILE",check:"Number"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:160};Blockly.Blocks.while={init:function(){this.jsonInit(i);let e=this;this.setTooltip(function(){let t=parseInt(e.getFieldValue("WHILE")),n="",o="";for(let e=0;e<fe.Tasks.length;e++){let i=fe.Tasks[e];if(i.Id===t){n=i.Name,o=i.Description;break}}return"While(%1)".replace("%1",t)+" - "+n+" - "+o})}};let s={message0:"Case %1 %2",args0:[{type:"field_input",name:"CASE_VALUE"},{type:"input_statement",name:"CASE"}],previousStatement:null,nextStatement:null,colour:160};Blockly.Blocks.case={init:function(){this.jsonInit(s);let e=this;this.setTooltip(function(){return'Case "%1"'.replace("%1",e.getFieldValue("CASE_VALUE"))})}};let r={message0:"Switch %1 %2 Default %3",args0:[{type:"field_number",name:"SWITCH",check:"Number"},{type:"input_statement",name:"CASE"},{type:"input_statement",name:"DEFAULT"}],previousStatement:null,nextStatement:null,colour:160};Blockly.Blocks.switch={init:function(){this.jsonInit(r);let e=this;this.setTooltip(function(){let t=parseInt(e.getFieldValue("SWITCH")),n="",o="";for(let e=0;e<fe.Tasks.length;e++){let i=fe.Tasks[e];if(i.Id===t){n=i.Name,o=i.Description;break}}return"Switch(%1)".replace("%1",t)+" - "+n+" - "+o})}};let a={message0:"OnSuccess %1",args0:[{type:"input_statement",name:"ON_SUCCESS"}],previousStatement:null,nextStatement:null,colour:60};Blockly.Blocks.onSuccess={init:function(){this.jsonInit(a),this.setTooltip(function(){return"OnSuccess"})}};let l={message0:"OnWarning %1",args0:[{type:"input_statement",name:"ON_WARNING"}],previousStatement:null,nextStatement:null,colour:60};Blockly.Blocks.onWarning={init:function(){this.jsonInit(l),this.setTooltip(function(){return"OnWarning"})}};let c={message0:"OnError %1",args0:[{type:"input_statement",name:"ON_ERROR"}],previousStatement:null,nextStatement:null,colour:60};Blockly.Blocks.onError={init:function(){this.jsonInit(c),this.setTooltip(function(){return"OnError"})}};let u={message0:"OnRejected %1",args0:[{type:"input_statement",name:"ON_REJECTED"}],previousStatement:null,nextStatement:null,colour:60};Blockly.Blocks.onRejected={init:function(){this.jsonInit(u),this.setTooltip(function(){return"OnRejected"})}},Q===!1?Common.get(t+"/graphBlockly/"+e,function(e){let t=document.getElementById("blocklyArea"),n=document.getElementById("blocklyDiv");n.innerHTML="";let o=Blockly.inject(n,{toolbox:document.getElementById("toolbox"),grid:{spacing:20,length:3,colour:"#ccc",snap:!0},trashcan:!0,scrollbars:!0,sounds:!1,zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2}});o.options.readOnly=!0;let i=Blockly.Xml.textToDom(e);Blockly.Xml.domToWorkspace(i,o),me=!0,he=!1,ge=!1,ye=!1,p.style.display="none",f.style.display="none",Y.style.display="none",m.style.display="none",g.style.display="none",$.style.display="none",document.getElementById("blocklyArea").style.display="block",document.getElementById("graphswitch").style.backgroundColor="#F0F0F0",document.getElementById("leftswitch").style.backgroundColor="transparent",document.getElementById("middleswitch").style.backgroundColor="transparent",document.getElementById("rightswitch").style.backgroundColor="transparent";let s=function(e){let i=t,s=0,r=0;do s+=i.offsetLeft,r+=i.offsetTop,i=i.offsetParent;while(i)
n.style.left=s+"px",n.style.top=r+"px",n.style.top=0,n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px",Blockly.svgResize(o)};window.addEventListener("resize",s,!1),s(),Blockly.svgResize(o)},function(){Common.toastInfo("An error occurred while retrieving the graph.")},x):Common.toastInfo("You must save the workflow to view the graph.")}function B(e){he=!1,me=!1,ge=!0,ye=!1,ae=!1,p.style.display="none",f.style.display="none",Y.style.display="none",m.style.display="none",g.style.display="none",document.getElementById("blocklyArea").style.display="none",$.style.display="block",document.getElementById("middleswitch").style.backgroundColor="#F0F0F0",document.getElementById("graphswitch").style.backgroundColor="transparent",document.getElementById("leftswitch").style.backgroundColor="transparent",document.getElementById("rightswitch").style.backgroundColor="transparent",G=ace.edit("code"),G.setOptions({maxLines:1/0,autoScrollEditorIntoView:!0}),G.setReadOnly(!1),G.setFontSize("100%"),G.setPrintMarginColumn(!1),G.setTheme("ace/theme/github"),G.getSession().setMode("ace/mode/json"),G.commands.addCommand({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Alt-h",mac:"Command-Alt-h"},exec:function(e){ace.config.loadModule("ace/ext/keybinding_menu",function(t){t.init(e),e.showKeyboardShortcuts()})}}),G.setValue(e,-1),G.clearSelection(),G.resize(!0),G.focus(),G.getSession().getUndoManager().reset(),G.on("change",function(e){ae=!0,le=!1})}function T(e){he=!1,ge=!1,me=!1,ye=!0,le=!1,p.style.display="none",f.style.display="none",Y.style.display="none",m.style.display="none",g.style.display="none",document.getElementById("blocklyArea").style.display="none",$.style.display="block",document.getElementById("rightswitch").style.backgroundColor="#F0F0F0",document.getElementById("graphswitch").style.backgroundColor="transparent",document.getElementById("leftswitch").style.backgroundColor="transparent",document.getElementById("middleswitch").style.backgroundColor="transparent",G=ace.edit("code"),G.setOptions({maxLines:1/0,autoScrollEditorIntoView:!0}),G.setReadOnly(!1),G.setFontSize("100%"),G.setPrintMarginColumn(!1),G.getSession().setMode("ace/mode/xml"),G.setTheme("ace/theme/github"),G.commands.addCommand({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Alt-h",mac:"Command-Alt-h"},exec:function(e){ace.config.loadModule("ace/ext/keybinding_menu",function(t){t.init(e),e.showKeyboardShortcuts()})}}),G.setValue(e,-1),G.clearSelection(),G.resize(!0),G.focus(),G.getSession().getUndoManager().reset(),G.on("change",function(e){le=!0,ae=!1})}function j(e){Common.get(t+"/json/"+e,function(e){if(fe=e,re=JSON.parse(JSON.stringify(e)),document.getElementById("wfid").value=fe.WorkflowInfo.Id,document.getElementById("wfname").value=fe.WorkflowInfo.Name,document.getElementById("wfdesc").value=fe.WorkflowInfo.Description,document.getElementById("wflaunchtype").value=I(fe.WorkflowInfo.LaunchType),document.getElementById("wfperiod").value=fe.WorkflowInfo.Period,document.getElementById("wfcronexp").value=fe.WorkflowInfo.CronExpression,document.getElementById("wfenabled").checked=fe.WorkflowInfo.IsEnabled,document.getElementById("wfapproval").checked=fe.WorkflowInfo.IsApproval,document.getElementById("wfenablepj").checked=fe.WorkflowInfo.EnableParallelJobs,document.getElementsByClassName("wf-local-vars")[0].innerHTML="",fe.WorkflowInfo.LocalVariables.length>0){let e="";for(let t=0;t<fe.WorkflowInfo.LocalVariables.length;t++){let n=fe.WorkflowInfo.LocalVariables[t],o=n.Key,i=n.Value;e+="<tr>",e+="<td><input class='form-control wf-var-key' type='text' value='"+o+"'></td>",e+="<td><button type='button' class='wf-remove-var btn btn-danger'>Delete</button></td>",e+="</tr>",e+="<tr>",e+="<td class='wf-value' colspan='2'><input class='form-control wf-var-value' type='text' value='"+i+"'></td>",e+="</tr>"}e+="</table>",document.getElementsByClassName("wf-local-vars")[0].innerHTML=e;let t=function(e){let t=document.getElementsByClassName("wf-var-key")[e];t.onkeyup=function(){fe.WorkflowInfo.LocalVariables[e].Key=t.value}},n=document.getElementsByClassName("wf-var-key");for(let e=0;e<n.length;e++)t(e);let o=function(e){let t=document.getElementsByClassName("wf-var-value")[e];t.onkeyup=function(){fe.WorkflowInfo.LocalVariables[e].Value=t.value}},i=document.getElementsByClassName("wf-var-value");for(let e=0;e<i.length;e++)o(e);let s=function(e){let t=document.getElementsByClassName("wf-remove-var")[e];t.onclick=function(){return confirm("Are you sure you want to delete this variable?")===!0&&(e=parseInt(W(t.parentElement.parentElement)/2),fe.WorkflowInfo.LocalVariables=D(fe.WorkflowInfo.LocalVariables,e),t.parentNode.parentNode.nextSibling.remove(),t.parentElement.parentElement.remove()),!1}},r=document.getElementsByClassName("wf-remove-var");for(let e=0;e<r.length;e++)s(e)}K={};for(let e=0;e<fe.Tasks.length;e++){let t=fe.Tasks[e];K[e]=t}let t={};g.style.width="100%",g.style.left="0",document.getElementById("leftcard").style.left=-V+"px",X.src="assets/openleft.png",P=!0,document.getElementById("wfpropwrap").style.right=-F+"px",Y.style.right="0",z=!0,U.src="assets/closeleft.png",w();let n="";for(let e=0;e<fe.Tasks.length;e++){let t=fe.Tasks[e];n+="<div class='blockelem noselect block' style='left: 500px; top: "+(25+180*e)+"px;'><input type='hidden' name='blockelemtype' class='blockelemtype' value='"+t.Name+"'><input type='hidden' name='blockelemdesc' class='blockelemdesc' value='"+t.Description+"'><input type='hidden' name='blockid' class='blockid' value='"+e+"'><div class='blockyleft'><img src='assets/actionorange.svg'><p class='blockyname'>"+t.Id+". "+t.Name+"</p></div><div class='blockyright'><img class='removediagblock' src='assets/close.svg'></div><div class='blockydiv'></div><div class='blockyinfo'>"+t.Description+"</div><div class='indicator invisible' style='left: 154px; top: 100px;'></div></div>",e<fe.Tasks.length-1&&(n+="<div class='arrowblock' style='left: 639px; top: "+(125+180*e)+"px;'><input type='hidden' class='arrowid' value='"+(e+1)+"'><svg preserveAspectRatio='none' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M20 0L20 40L20 40L20 80' stroke='#6CA5EC' stroke-width='2px'></path></svg></div>")}let o=[];for(let e=0;e<fe.Tasks.length;e++)o.push({parent:e-1,childwidth:e<fe.Tasks.length-1?318:0,id:e,x:644,y:190+180*e,width:318,height:100});t={html:n,blockarr:o},flowy.import(t),Q=!1,Z.style.display="block",ve&&(ve.close(),ve.destroy())},function(){},x)}function S(){te===!1&&(document.getElementById("overlay").style.display="block",Common.get(t+"/search?s=",function(e){e.sort(A);let n=function(e){ne={};let t=[];for(let n=0;n<e.length;n++){let o=e[n];ne[o.Id]=o,t.push("<tr><td><input class='wf-delete' type='checkbox'></td><td class='wf-id' title='"+o.Id+"'>"+o.Id+"</td><td class='wf-n' title='"+o.Name+"'>"+o.Name+"</td><td class='wf-d' title='"+o.Description+"'>"+o.Description+"</td></tr>")}return"<table class='wf-workflows-table table'><thead class='thead-dark'><tr><th><input id='wf-delete-all' type='checkbox'></th><th class='wf-id'>Id</th><th class='wf-n'>Name</th><th class='wf-d'>Description</th></tr></thead><tbody>"+t.join("")+"</tbody></table>"},o=n(e);we&&we.destroy(),ve&&ve.destroy(),ve=new jBox("Modal",{width:800,height:420,title:'<div id="searchworkflows"><img src="assets/search.svg"><input id="searchworkflowsinput" type="text" placeholder="Search workflows"></div><small style="float: right;">Ctrl+O to open this window.</small>',content:o,footer:'<div id="openworkflow">Open</div><div id="deleteworkflows">Delete</div>',overlay:!0,isolateScroll:!1,delayOpen:0,onOpen:function(){document.getElementById("overlay").style.display="none",te=!0},onClose:function(){te=!1}}),ve.open();let i=document.getElementById("searchworkflowsinput");i.focus(),i.select(),i.onkeyup=function(e){if(e.preventDefault(),13===e.keyCode){let e=document.getElementsByClassName("jBox-content")[0];Common.get(t+"/search?s="+i.value,function(t){t.sort(A),e.innerHTML=n(t);let o=e.childNodes[0],i=o.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(let e=0;e<i.length;e++){let t=i[e];t.onclick=function(){let e=document.getElementsByClassName("selected");e.length>0&&(e[0].className=e[0].className.replace("selected","")),t.className+="selected"};let n=t.getElementsByClassName("wf-delete")[0];n.onchange=function(){let e=this.parentElement.parentElement,t=parseInt(e.getElementsByClassName("wf-id")[0].innerHTML),n=ne[t].DbId;if(this.checked===!0)oe.push(n);else{let e=oe.indexOf(n);e>-1&&oe.splice(e,1)}}}document.getElementsByClassName("jBox-content")[0].childNodes[0].ondblclick=function(){this.querySelectorAll(".selected").length>0&&N()},o.querySelector("#wf-delete-all").onclick=function(){for(let e=0;e<i.length;e++){let t=i[e],n=parseInt(t.getElementsByClassName("wf-id")[0].innerHTML),o=ne[n].DbId,s=t.getElementsByClassName("wf-delete")[0];if(s.checked===!1)s.checked=!0,oe.push(o);else{s.checked=!1;let e=oe.indexOf(o);e>-1&&oe.splice(e,1)}}}},function(){Common.toastError("An error occured while retrieving workflows. Check that wexflow server is running correctly.")},x)}};let s=document.getElementsByClassName("jBox-content")[0].childNodes[0],r=s.getElementsByTagName("tbody")[0].getElementsByTagName("tr");if(r.length>0){let e=s.getElementsByTagName("thead")[0].getElementsByTagName("tr")[0];e.querySelector(".wf-id").style.width=r[0].querySelector(".wf-id").offsetWidth+"px",e.querySelector(".wf-n").style.width=r[0].querySelector(".wf-n").offsetWidth+"px",e.querySelector(".wf-d").style.width=r[0].querySelector(".wf-d").offsetWidth+"px"}let a=s.querySelectorAll(".wf-d");for(let e=0;e<a.length;e++)a[e].style.width=s.offsetWidth-215+"px";for(let e=0;e<r.length;e++){let t=r[e];t.onclick=function(){let e=document.getElementsByClassName("selected");e.length>0&&(e[0].className=e[0].className.replace("selected","")),t.className+="selected"};let n=t.getElementsByClassName("wf-delete")[0];n.onchange=function(){let e=this.parentElement.parentElement,t=parseInt(e.getElementsByClassName("wf-id")[0].innerHTML),n=ne[t].DbId;if(this.checked===!0)oe.push(n);else{let e=oe.indexOf(n);e>-1&&oe.splice(e,1)}}}s.querySelector("#wf-delete-all").onclick=function(){for(let e=0;e<r.length;e++){let t=r[e],n=parseInt(t.getElementsByClassName("wf-id")[0].innerHTML),o=ne[n].DbId,i=t.getElementsByClassName("wf-delete")[0];if(i.checked===!1)i.checked=!0,oe.push(o);else{i.checked=!1;let e=oe.indexOf(o);e>-1&&oe.splice(e,1)}}},document.getElementById("openworkflow").onclick=function(){N()},document.getElementById("deleteworkflows").onclick=function(){if(oe.length>0){let e=confirm("Are you sure you want to delete selected workflows?");e===!0&&Common.post(t+"/deleteWorkflows",function(e){if(e===!0){Common.toastSuccess("Workflows deleted with success."),isNaN(parseInt(fe.WorkflowInfo.Id))===!1&&ne[fe.WorkflowInfo.Id]&&oe.includes(ne[fe.WorkflowInfo.Id].DbId)&&(Q=!0,ie=!1,se=!0,flowy.deleteBlocks(),Z.style.display="none",document.getElementById("leftcard").style.left=-V+"px",X.src="assets/openleft.png",P=!0,document.getElementById("wfpropwrap").style.right=-F+"px",z=!0,U.src="assets/closeleft.png",Y.style.right="0",J===!0&&(J=!1,document.getElementById("properties").classList.remove("expanded"),setTimeout(function(){document.getElementById("propwrap").classList.remove("itson")},300),H&&H.classList.remove("selectedblock")),document.getElementById("wfid").value="",document.getElementById("wfname").value="",document.getElementById("wfdesc").value="",document.getElementById("wflaunchtype").value="",document.getElementById("wfperiod").value="",document.getElementById("wfcronexp").value="",document.getElementById("wfenabled").checked=!0,document.getElementById("wfapproval").checked=!1,document.getElementById("wfenablepj").checked=!0,document.getElementsByClassName("wf-local-vars")[0].innerHTML="",fe={WorkflowInfo:{Id:document.getElementById("wfid").value,Name:document.getElementById("wfname").value,Description:document.getElementById("wfdesc").value,LaunchType:k(document.getElementById("wflaunchtype").value),Period:document.getElementById("wfperiod").value,CronExpression:document.getElementById("wfcronexp").value,IsEnabled:document.getElementById("wfenabled").checked,IsApproval:document.getElementById("wfapproval").checked,EnableParallelJobs:document.getElementById("wfenablepj").checked,LocalVariables:[]},Tasks:[]},K={},(ge||ye||me)&&(document.getElementById("code-container").style.display="none",document.getElementById("blocklyArea").style.display="none",ge=!1,ye=!1,me=!1),p.style.display="block",f.style.display="block",Y.style.display="block",m.style.display="block",g.style.display="block",$.style.display="none",document.getElementById("leftswitch").style.backgroundColor="#F0F0F0",document.getElementById("graphswitch").style.backgroundColor="transparent",document.getElementById("middleswitch").style.backgroundColor="transparent",document.getElementById("rightswitch").style.backgroundColor="transparent",he=!0),oe=[];let e=document.getElementsByClassName("jBox-content")[0];Common.get(t+"/search?s="+i.value,function(t){t.sort(A),e.innerHTML=n(t);let o=e.childNodes[0],i=o.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(let e=0;e<i.length;e++){let t=i[e];t.onclick=function(){let e=document.getElementsByClassName("selected");e.length>0&&(e[0].className=e[0].className.replace("selected","")),t.className+="selected"};let n=t.getElementsByClassName("wf-delete")[0];n.onchange=function(){let e=this.parentElement.parentElement,t=parseInt(e.getElementsByClassName("wf-id")[0].innerHTML),n=ne[t].DbId;if(this.checked===!0)oe.push(n);else{let e=oe.indexOf(n);e>-1&&oe.splice(e,1)}}}document.getElementsByClassName("jBox-content")[0].childNodes[0].ondblclick=function(){this.querySelectorAll(".selected").length>0&&N()},o.querySelector("#wf-delete-all").onclick=function(){for(let e=0;e<i.length;e++){let t=i[e],n=parseInt(t.getElementsByClassName("wf-id")[0].innerHTML),o=ne[n].DbId,s=t.getElementsByClassName("wf-delete")[0];if(s.checked===!1)s.checked=!0,oe.push(o);else{s.checked=!1;let e=oe.indexOf(o);e>-1&&oe.splice(e,1)}}}},function(){Common.toastError("An error occured while retrieving workflows. Check that wexflow server is running correctly.")},x)}else Common.toastError("An error occured while deleting workflows.")},function(){Common.toastError("An error occured while deleting workflows.")},{WorkflowsToDelete:oe},x)}else Common.toastInfo("Select workflows to delete")},document.getElementsByClassName("jBox-content")[0].childNodes[0].ondblclick=function(){this.querySelectorAll(".selected").length>0&&N()}},function(){document.getElementById("overlay").style.display="none",Common.toastError("An error occured while retrieving workflows. Check that wexflow server is running correctly.")},x))}function N(){0===document.getElementsByClassName("selected").length?Common.toastInfo("Choose a workflow to open."):L(function(){se=!1,ie=!1},function(){se=!1,ie=!1})}function L(e,n){let o=document.getElementsByClassName("selected"),i=o.length>0?parseInt(o[0].getElementsByClassName("wf-id")[0].innerHTML):-1,s=_.isEqual(re,fe)===!1&&null!==re;if(ie===!0||se===!1&&s===!0||ge===!0&&ae===!0||ye===!0&&le===!0){let o=confirm("Save changes?");if(o===!0){let n=document.getElementById("wfid").value;if(he===!0||me===!0){b();let o=function(){Common.post(t+"/save",function(t){t===!0?(Q=!1,Z.style.display="block",i>-1&&(j(i),me===!0&&E(i)),Common.toastSuccess("workflow "+n+" saved and loaded with success from diagram view."),e&&e()):Common.toastError("An error occured while saving the workflow "+n+" from diagram view.")},function(){Common.toastError("An error occured while saving the workflow "+n+" from diagram view.")},fe,x)},s=document.getElementById("wfid").value;if(C(s)){let e=parseInt(s);if(Q===!0)Common.get(t+"/isWorkflowIdValid/"+e,function(e){if(e===!0)if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let e=document.getElementById("wflaunchtype").value;if(""===e)Common.toastInfo("Select a launchType for this workflow.");else if("periodic"===e&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow.");else if("cron"===e&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow.");else if("periodic"===e&&""!==document.getElementById("wfperiod").value){let e=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+e,function(e){e===!0?o():Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss")},function(){},x)}else if("cron"===e&&""!==document.getElementById("wfcronexp").value){let e=document.getElementById("wfcronexp").value,n=encodeURIComponent(e);Common.get(t+"/isCronExpressionValid?e="+n,function(e){e===!0?o():confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")},function(){},x)}else o()}else Common.toastInfo("The workflow id is already in use. Enter another one.")},function(){},x);else if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let e=document.getElementById("wflaunchtype").value;if(""===e)Common.toastInfo("Select a launchType for this workflow.");else if("periodic"===e&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow.");else if("cron"===e&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow.");else if("periodic"===e&&""!==document.getElementById("wfperiod").value){let e=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+e,function(e){e===!0?o():Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss")},function(){},x)}else if("cron"===e&&""!==document.getElementById("wfcronexp").value){let e=document.getElementById("wfcronexp").value,n=encodeURIComponent(e);Common.get(t+"/isCronExpressionValid?e="+n,function(e){e===!0?o():confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")},function(){},x)}else o()}}else Common.toastInfo("Enter a valid workflow id.")}else if(ge===!0){let o=JSON.parse(G.getValue());Common.post(t+"/save",function(o){o===!0?(i>-1&&Common.get(t+"/json/"+i,function(e){B(JSON.stringify(e,null,"\t")),ae=!1,j(i),Z.style.display="block",Common.toastSuccess("workflow "+n+" saved and loaded with success from JSON view.")},function(){},x),e&&e()):Common.toastError("An error occured while saving the workflow "+n+" from JSON view.")},function(){Common.toastError("An error occured while saving the workflow "+n+" from JSON view.")},o,x)}else if(ye===!0){let o={workflowId:fe.WorkflowInfo.Id,xml:G.getValue()};Common.post(t+"/saveXml",function(o){o===!0?(i>-1&&Common.get(t+"/xml/"+i,function(e){T(e),le=!1,j(i),Z.style.display="block",Common.toastSuccess("workflow "+n+" saved and loaded with success from XML view.")},function(){},x),e&&e()):Common.toastError("An error occured while saving the workflow "+n+" from XML view.")},function(){Common.toastError("An error occured while saving the workflow "+n+" from XML view.")},o,x)}}else i>-1&&(ge===!0?Common.get(t+"/json/"+i,function(e){B(JSON.stringify(e,null,"\t")),ae=!1},function(){},x):ye===!0?Common.get(t+"/xml/"+i,function(e){T(e),le=!1},function(){},x):me===!0&&E(i),j(i)),n&&n()}else i>-1&&(ge===!0?Common.get(t+"/json/"+i,function(e){B(JSON.stringify(e,null,"\t")),ae=!1},function(){},x):ye===!0?Common.get(t+"/xml/"+i,function(e){T(e),le=!1},function(){},x):me===!0&&E(i),j(i)),n&&n()}function A(e,t){return e.Id<t.Id?-1:e.Id>t.Id?1:0}function O(e,t,n){let o=document.createElement("a"),i=new Blob([e],{type:n}),s=URL.createObjectURL(i);o.href=s,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s)}function D(e,t){return e=e.slice(0),e.splice(t,1),e}function W(e){let t=0;for(;e=e.previousElementSibling;)t++;return t}function q(e){let t=document.getElementById(e);t.scrollTop=t.scrollHeight-t.clientHeight}let H,R,M=document.getElementById("searchtasks"),P=!0,V=361,X=document.getElementById("closecardimg"),z=!0,F=331,U=document.getElementById("wfcloseimg"),Y=document.getElementById("wfclose"),$=document.getElementById("code-container"),J=!1,K={},G=null,Q=!0,Z=document.getElementById("removeworkflow"),ee="all .25s cubic-bezier(.05,.03,.35,1)",te=!1,ne={},oe=[],ie=!1,se=!1,re=null,ae=!1,le=!1;n.onclick=function(){let e="dashboard.html";L(function(){window.location.href=e},function(){window.location.href=e})},o.onclick=function(){let e="manager.html";L(function(){window.location.href=e},function(){window.location.href=e})},i.onclick=function(){let e="designer.html";L(function(){window.location.href=e},function(){window.location.href=e})},s.onclick=function(){let e="history.html";L(function(){window.location.href=e},function(){window.location.href=e})},r.onclick=function(){let e="users.html";L(function(){window.location.href=e},function(){window.location.href=e})},a.onclick=function(){let e="profiles.html";L(function(){window.location.href=e},function(){window.location.href=e})},l.onclick=function(){let e=function(){deleteUser(),Common.redirectToLoginPage()};L(function(){e()},function(){e()})},c.onclick=function(){let e="https://wexflow.github.io";L(function(){window.location.href=e},function(){window.location.href=e})},u.onclick=function(){let e="https://github.com/aelassas/Wexflow/wiki";L(function(){window.location.href=e},function(){window.location.href=e})},flowy(g,y,v,d,h),e(),M.onkeyup=function(t){t.preventDefault(),13===t.keyCode&&e()},document.getElementById("newworkflow").onclick=function(){Common.get(t+"/workflowId",function(e){ie=!0,se=!1,Q=!0,flowy.deleteBlocks(),Z.style.display="none",document.getElementById("leftcard").style.left=-V+"px",X.src="assets/openleft.png",P=!0,document.getElementById("wfpropwrap").style.right="0",Y.style.right="311px",z=!1,U.src="assets/openleft.png",J===!0&&(J=!1,document.getElementById("properties").classList.remove("expanded"),setTimeout(function(){document.getElementById("propwrap").classList.remove("itson")},300),H&&H.classList.remove("selectedblock")),document.getElementById("wfid").value=e,document.getElementById("wfname").value="",document.getElementById("wfdesc").value="",document.getElementById("wflaunchtype").value="",document.getElementById("wfperiod").value="",document.getElementById("wfcronexp").value="",document.getElementById("wfenabled").checked=!0,document.getElementById("wfapproval").checked=!1,document.getElementById("wfenablepj").checked=!0,document.getElementsByClassName("wf-local-vars")[0].innerHTML="",fe={WorkflowInfo:{Id:document.getElementById("wfid").value,Name:document.getElementById("wfname").value,Description:document.getElementById("wfdesc").value,LaunchType:k(document.getElementById("wflaunchtype").value),Period:document.getElementById("wfperiod").value,CronExpression:document.getElementById("wfcronexp").value,IsEnabled:document.getElementById("wfenabled").checked,IsApproval:document.getElementById("wfapproval").checked,EnableParallelJobs:document.getElementById("wfenablepj").checked,LocalVariables:[]},Tasks:[]},K={},(ge||ye||me)&&(document.getElementById("code-container").style.display="none",document.getElementById("blocklyArea").style.display="none",ge=!1,ye=!1,me=!1),p.style.display="block",f.style.display="block",Y.style.display="block",m.style.display="block",g.style.display="block",$.style.display="none",document.getElementById("leftswitch").style.backgroundColor="#F0F0F0",document.getElementById("graphswitch").style.backgroundColor="transparent",document.getElementById("middleswitch").style.backgroundColor="transparent",document.getElementById("rightswitch").style.backgroundColor="transparent",he=!0},function(){Common.toastError("An error occured while getting a new workflow id.")},x)},document.getElementById("close").addEventListener("click",function(){w()}),document.getElementById("removeblock").addEventListener("click",function(){confirm("Are you sure you want to delete all the tasks?")===!0&&(flowy.deleteBlocks(),w(),fe={WorkflowInfo:{Id:document.getElementById("wfid").value,Name:document.getElementById("wfname").value,Description:document.getElementById("wfdesc").value,LaunchType:k(document.getElementById("wflaunchtype").value),Period:document.getElementById("wfperiod").value,CronExpression:document.getElementById("wfcronexp").value,IsEnabled:document.getElementById("wfenabled").checked,IsApproval:document.getElementById("wfapproval").checked,EnableParallelJobs:document.getElementById("wfenablepj").checked,LocalVariables:[]},Tasks:[]},K={})}),Z.addEventListener("click",function(){let e=document.getElementById("wfid").value;confirm("Are you sure you want to delete the workflow "+e+"?")===!0&&Common.post(t+"/delete?w="+e,function(t){t===!0?(Common.toastSuccess("Workflow "+e+" deleted with success."),se=!0,flowy.deleteBlocks(),w(),document.getElementById("wfid").value="",document.getElementById("wfname").value="",document.getElementById("wfdesc").value="",document.getElementById("wflaunchtype").value="",document.getElementById("wfperiod").value="",document.getElementById("wfcronexp").value="",document.getElementById("wfenabled").checked=!0,document.getElementById("wfapproval").checked=!1,document.getElementById("wfenablepj").checked=!0,document.getElementById("wfpropwrap").style.right=-F+"px",z=!0,U.src="assets/closeleft.png",Y.style.right="0",document.getElementById("leftcard").style.left=-V+"px",X.src="assets/openleft.png",P=!0,Z.style.display="none",fe={WorkflowInfo:{Id:document.getElementById("wfid").value,Name:document.getElementById("wfname").value,Description:document.getElementById("wfdesc").value,LaunchType:k(document.getElementById("wflaunchtype").value),Period:document.getElementById("wfperiod").value,CronExpression:document.getElementById("wfcronexp").value,IsEnabled:document.getElementById("wfenabled").checked,IsApproval:document.getElementById("wfapproval").checked,EnableParallelJobs:document.getElementById("wfenablepj").checked,LocalVariables:[]},Tasks:[]},K={}):Common.toastError("An error occured while deleting the workflow"+e+".")},function(){Common.toastError("An error occured while deleting the workflow"+e+".")},"",x)});let ce=!1,ue=function(e){ce=!0},de=function(e){ce=!1},pe=function(e){function n(e){let t=window.open(e,"_blank");void 0!==t&&null!==t&&t.focus()}if("mouseup"===e.type&&b(),"mouseup"===e.type&&ce&&e.target.closest("#canvas")&&e.target.closest(".block")){let o=document.getElementsByClassName("selectedblock");for(let e=0;e<o.length;e++)o[e].classList.remove("selectedblock");H=e.target.closest(".block"),J=!0,document.getElementById("properties").classList.add("expanded"),document.getElementById("propwrap").classList.add("itson"),H.classList.add("selectedblock"),document.getElementById("wfpropwrap").style.right=-F+"px",z=!0,U.src="assets/closeleft.png",Y.style.right="-60px";let i=H.getElementsByClassName("blockelemtype")[0].value;document.getElementById("header2").innerHTML="Task Settings&nbsp;<span id='taskdoc' class='badge' title='Open task documentation'>doc</span>",document.getElementById("taskdoc").onclick=function(){n("https://github.com/aelassas/Wexflow/wiki/"+i)};let s=parseInt(e.target.closest(".block").querySelector(".blockid").value);if(K[s]||isNaN(s)!==!1||(K[s]={Id:0,Name:i,Description:"",IsEnabled:!0,Settings:[]}),document.getElementById("taskid").value=K[s].Id,document.getElementById("taskdescription").value=K[s].Description,document.getElementById("taskenabled").checked=K[s].IsEnabled,b(),isNaN(s)===!1){let e=document.getElementsByClassName("wf-new-setting")[0];e.onclick=function(){return Common.get(t+"/settings/"+i,function(e){let t=document.getElementById("task-settings-table"),n=t.insertRow(),o=n.insertCell(0),i=n.insertCell(1),r="<select class='form-control wf-setting-name'>";r+="<option value=''></option>";for(let t=0;t<e.length;t++){let n=e[t];r+="<option value='"+n+"'>"+n+"</option>"}r+="</select>",o.innerHTML=r,i.innerHTML='<button type="button" class="wf-remove-setting btn btn-danger">Delete</button>';let a=t.insertRow(),l=a.insertCell(0),c=K[s].Settings.length;l.innerHTML='<input class="wf-setting-index" type="hidden" value="'+c+'"><input class="form-control wf-setting-value" value="" type="text" />',l.colSpan=2,K[s].Settings.push({Name:"",Value:"",Attributes:[]}),t.getElementsByClassName("wf-setting-name")[c].onchange=function(){return K[s].Settings[c].Name=this.value,!1},t.getElementsByClassName("wf-setting-value")[c].onkeyup=function(){if(K[s].Settings[c]){let e=parseInt(this.parentNode.querySelector(".wf-setting-index").value);K[s].Settings[e].Value=this.value}return!1},t.getElementsByClassName("wf-remove-setting")[c].onclick=function(){if(confirm("Are you sure you want to remove this setting?")===!0){let e=parseInt(this.parentNode.parentNode.nextSibling.querySelector(".wf-setting-index").value);K[s].Settings=D(K[s].Settings,e);let t=this.parentNode.parentNode.parentNode.querySelectorAll(".wf-setting-index");for(let n=e;n<t.length;n++)t[n].value=parseInt(t[n].value)-1;this.parentNode.parentNode.nextSibling.remove(),this.parentNode.parentNode.remove()}return!1},q("proplist")},function(){Common.toastError("An error occured while retrieving settings.")},x),!1},Q===!0?Common.get(t+"/settings/"+i,function(t){if(K[s]){t.length>0?e.style.display="inline-block":e.style.display="none";let n=K[s].Settings,o="";for(let e=0;e<n.length;e++){let t=n[e].Name,i=n[e].Value;o+="<tr>",o+="<td>",o+='<p class="wf-setting-name">'+t+"</p>",o+="</td>",o+="<td>",o+='<button type="button" class="wf-remove-setting btn btn-danger">Delete</button>',o+="</td>",o+="</tr>",o+="<tr>",o+="<td colspan='2'>",o+='<input class="wf-setting-index" type="hidden" value="'+e+'"><input class="form-control wf-setting-value" value="'+i+'" type="text" />',o+="</td>",o+="</tr>"}document.getElementById("task-settings-table").innerHTML=o,document.getElementById("taskid").value=K[s].Id,document.getElementById("taskdescription").value=K[s].Description,document.getElementById("taskenabled").checked=K[s].IsEnabled;let i=document.getElementsByClassName("wf-remove-setting");for(let e=0;e<i.length;e++){let t=i[e];t.onclick=function(){if(confirm("Are you sure you want to remove this setting?")===!0){let e=parseInt(this.parentNode.parentNode.nextSibling.querySelector(".wf-setting-index").value);K[s].Settings=D(K[s].Settings,e);let t=this.parentNode.parentNode.parentNode.querySelectorAll(".wf-setting-index");for(let n=e;n<t.length;n++)t[n].value=parseInt(t[n].value)-1;this.parentNode.parentNode.nextSibling.remove(),this.parentNode.parentNode.remove()}return!1}}document.getElementById("taskid").onkeyup=function(){K[s].Id=parseInt(this.value),b(),H&&(H.getElementsByClassName("blockyname")[0].innerHTML=K[s].Id+". "+K[s].Name)},document.getElementById("taskdescription").onkeyup=function(){K[s].Description=this.value,b(),H&&(H.getElementsByClassName("blockyinfo")[0].innerHTML=this.value)},document.getElementById("taskenabled").onchange=function(){K[s].IsEnabled=this.checked,b()};let r=document.getElementsByClassName("wf-setting-value");for(let e=0;e<r.length;e++){let t=r[e];t.onkeyup=function(){let e=this.previousElementSibling.value;K[s].Settings[e].Value=this.value,b()}}}},function(){Common.toastError("An error occured while retrieving settings.")},x):Common.get(t+"/settings/"+i,function(t){if(K[s]){let n=K[s].Settings,o="";t.length>0?e.style.display="inline-block":e.style.display="none";for(let e=0;e<n.length;e++){let t=n[e].Name,i=n[e].Value;o+="<tr>",o+="<td>",o+='<p class="wf-setting-name">'+t+"</p>",o+="</td>",o+="<td>",o+='<button type="button" class="wf-remove-setting btn btn-danger">Delete</button>',o+="</td>",o+="</tr>",o+="<tr>",o+="<td colspan='2'>",
o+='<input class="wf-setting-index" type="hidden" value="'+e+'"><input class="form-control wf-setting-value" value="'+i+'" type="text" />',o+="</td>",o+="</tr>"}document.getElementById("task-settings-table").innerHTML=o;let i=document.getElementsByClassName("wf-setting-value");for(let e=0;e<i.length;e++){let t=i[e];t.onkeyup=function(){let e=this.previousElementSibling.value;K[s].Settings[e].Value=this.value,b()}}let r=document.getElementsByClassName("wf-remove-setting");for(let e=0;e<r.length;e++){let t=r[e];t.onclick=function(){if(confirm("Are you sure you want to remove this setting?")===!0){let e=parseInt(this.parentNode.parentNode.nextSibling.querySelector(".wf-setting-index").value);K[s].Settings=D(K[s].Settings,e);let t=this.parentNode.parentNode.parentNode.querySelectorAll(".wf-setting-index");for(let n=e;n<t.length;n++)t[n].value=parseInt(t[n].value)-1;this.parentNode.parentNode.nextSibling.remove(),this.parentNode.parentNode.remove()}return!1}}document.getElementById("taskid").onkeyup=function(){K[s].Id=parseInt(this.value),b(),H&&(H.getElementsByClassName("blockyname")[0].innerHTML=K[s].Id+". "+K[s].Name)},document.getElementById("taskdescription").onkeyup=function(){K[s].Description=this.value,b(),H&&(H.getElementsByClassName("blockyinfo")[0].innerHTML=this.value)},document.getElementById("taskenabled").onchange=function(){K[s].IsEnabled=this.checked,b()}}},function(){Common.toastError("An error occured while retrieving settings.")},x)}}};addEventListener("mousedown",ue,!1),addEventListener("mousemove",de,!1),addEventListener("mouseup",pe,!1),function(e,t,n,o){let i=document.querySelectorAll(o);for(let o=0;o<i.length;o++)i[o].addEventListener(e,t,n)}("touchstart",ue,!1,".block"),document.getElementById("closecard").onclick=function(){let e=g.getElementsByClassName("blockelem"),t=g.getElementsByClassName("arrowblock");if(P===!1){document.getElementById("leftcard").style.left=-V+"px",document.getElementById("leftcard").style.transition=ee,X.src="assets/openleft.png",P=!0,g.style.left="0",g.style.width="100%";for(let t=0;t<e.length;t++){let n=e[t];n.style.left=n.offsetLeft+V+"px"}for(let e=0;e<t.length;e++){let n=t[e];n.style.left=n.offsetLeft+V+"px"}}else{document.getElementById("leftcard").style.left="0",X.src="assets/closeleft.png",P=!1,g.style.left=V+"px",g.style.width="calc(100% - "+V+"px)";for(let t=0;t<e.length;t++){let n=e[t];n.style.left=n.offsetLeft-V+"px"}for(let e=0;e<t.length;e++){let n=t[e];n.style.left=n.offsetLeft-V+"px"}document.getElementById("searchtasks").focus(),document.getElementById("searchtasks").select()}},Y.onclick=function(){z===!1?(document.getElementById("wfpropwrap").style.right=-F+"px",document.getElementById("wfpropwrap").style.transition=ee,Y.style.right="0",Y.style.transition=ee,z=!0,U.src="assets/closeleft.png"):(document.getElementById("wfpropwrap").style.right="0",Y.style.right="311px",z=!1,U.src="assets/openleft.png")};let fe={WorkflowInfo:{Id:document.getElementById("wfid").value,Name:document.getElementById("wfname").value,Description:document.getElementById("wfdesc").value,LaunchType:k(document.getElementById("wflaunchtype").value),Period:document.getElementById("wfperiod").value,CronExpression:document.getElementById("wfcronexp").value,IsEnabled:document.getElementById("wfenabled").checked,IsApproval:document.getElementById("wfapproval").checked,EnableParallelJobs:document.getElementById("wfenablepj").checked,LocalVariables:[]},Tasks:[]},he=!0,me=!1,ge=!1,ye=!1;document.getElementById("wfid").onkeyup=function(){fe.WorkflowInfo.Id=this.value},document.getElementById("wfname").onkeyup=function(){fe.WorkflowInfo.Name=this.value},document.getElementById("wfdesc").onkeyup=function(){fe.WorkflowInfo.Description=this.value},document.getElementById("wflaunchtype").onchange=function(){fe.WorkflowInfo.LaunchType=k(this.value)},document.getElementById("wfperiod").onkeyup=function(){fe.WorkflowInfo.Period=this.value},document.getElementById("wfcronexp").onkeyup=function(){fe.WorkflowInfo.CronExpression=this.value},document.getElementById("wfenabled").onchange=function(){fe.WorkflowInfo.IsEnabled=this.checked},document.getElementById("wfapproval").onchange=function(){fe.WorkflowInfo.IsApproval=this.checked},document.getElementById("wfenablepj").onchange=function(){fe.WorkflowInfo.EnableParallelJobs=this.checked},window.onkeydown=function(e){if((e.ctrlKey||e.metaKey||17===e.keyCode||224===e.keyCode||91===e.keyCode||93===e.keyCode)&&83===e.keyCode){e.preventDefault();let n=document.getElementById("wfid").value;if(he===!0){b();let e=function(){Common.post(t+"/save",function(e){e===!0?(re=JSON.parse(JSON.stringify(fe)),Q=!1,ie=!1,Z.style.display="block",ae=!1,le=!1,Common.toastSuccess("workflow "+n+" saved and loaded with success from diagram view.")):Common.toastError("An error occured while saving the workflow "+n+" from diagram view.")},function(){Common.toastError("An error occured while saving the workflow "+n+" from diagram view.")},fe,x)},o=document.getElementById("wfid").value;if(C(o)){let n=parseInt(o);if(Q===!0)Common.get(t+"/isWorkflowIdValid/"+n,function(n){if(n===!0)if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let n=document.getElementById("wflaunchtype").value;if(""===n)Common.toastInfo("Select a launchType for this workflow.");else if("periodic"===n&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow.");else if("cron"===n&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow.");else if("periodic"===n&&""!==document.getElementById("wfperiod").value){let n=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+n,function(t){t===!0?e():Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss")},function(){},x)}else if("cron"===n&&""!==document.getElementById("wfcronexp").value){let n=document.getElementById("wfcronexp").value,o=encodeURIComponent(n);Common.get(t+"/isCronExpressionValid?e="+o,function(t){t===!0?e():confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")},function(){},x)}else e()}else Common.toastInfo("The workflow id is already in use. Enter another one.")},function(){},x);else if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let n=document.getElementById("wflaunchtype").value;if(""===n)Common.toastInfo("Select a launchType for this workflow.");else if("periodic"===n&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow.");else if("cron"===n&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow.");else if("periodic"===n&&""!==document.getElementById("wfperiod").value){let n=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+n,function(t){t===!0?e():Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss")},function(){},x)}else if("cron"===n&&""!==document.getElementById("wfcronexp").value){let n=document.getElementById("wfcronexp").value,o=encodeURIComponent(n);Common.get(t+"/isCronExpressionValid?e="+o,function(t){t===!0?e():confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")},function(){},x)}else e()}}else Common.toastInfo("Enter a valid workflow id.")}else if(ge===!0){let e=JSON.parse(G.getValue());Common.post(t+"/save",function(e){e===!0?(Q=!1,ie=!1,j(fe.WorkflowInfo.Id),re=JSON.parse(JSON.stringify(fe)),Z.style.display="block",ae=!1,Common.toastSuccess("workflow "+n+" saved and loaded with success from JSON view.")):Common.toastError("An error occured while saving the workflow "+n+" from JSON view.")},function(){Common.toastError("An error occured while saving the workflow "+n+" from JSON view.")},e,x)}else if(ye===!0){let e={workflowId:fe.WorkflowInfo.Id,xml:G.getValue()};Common.post(t+"/saveXml",function(e){e===!0?(Q=!1,ie=!1,j(fe.WorkflowInfo.Id),re=JSON.parse(JSON.stringify(fe)),Z.style.display="block",le=!1,Common.toastSuccess("workflow "+n+" saved and loaded with success from XML view.")):Common.toastError("An error occured while saving the workflow "+n+" from XML view.")},function(){Common.toastError("An error occured while saving the workflow "+n+" from XML view.")},e,x)}return!1}if((e.ctrlKey||e.metaKey||17===e.keyCode||224===e.keyCode||91===e.keyCode||93===e.keyCode)&&79===e.keyCode)return e.preventDefault(),S(),!1},document.getElementById("leftswitch").onclick=function(){he=!0,me=!1,ge=!1,ye=!1,p.style.display="block",f.style.display="block",Y.style.display="block",m.style.display="block",g.style.display="block",$.style.display="none",document.getElementById("blocklyArea").style.display="none",this.style.backgroundColor="#F0F0F0",document.getElementById("graphswitch").style.backgroundColor="transparent",document.getElementById("middleswitch").style.backgroundColor="transparent",document.getElementById("rightswitch").style.backgroundColor="transparent"},document.getElementById("graphswitch").onclick=function(){let e=document.getElementById("wfid").value;if(C(e)){let t=parseInt(e);E(t)}else Common.toastInfo("Enter a valid workflow id.")},document.getElementById("middleswitch").onclick=function(){let e=JSON.stringify(fe,null,"\t");if(he===!0){let n=document.getElementById("wfid").value;if(C(n)){let o=parseInt(n);if(Q===!0)Common.get(t+"/isWorkflowIdValid/"+o,function(n){if(n===!0)if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let n=document.getElementById("wflaunchtype").value;if(""===n)Common.toastInfo("Select a launchType for this workflow.");else if("periodic"===n&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow.");else if("cron"===n&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow.");else if("periodic"===n&&""!==document.getElementById("wfperiod").value){let n=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+n,function(t){t===!0?B(e):Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss")},function(){},x)}else if("cron"===n&&""!==document.getElementById("wfcronexp").value){let n=document.getElementById("wfcronexp").value,o=encodeURIComponent(n);Common.get(t+"/isCronExpressionValid?e="+o,function(t){t===!0?B(e):confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")},function(){},x)}else B(e)}else Common.toastInfo("The workflow id is already in use. Enter another one.")},function(){},x);else if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let n=document.getElementById("wflaunchtype").value;if(""===n)Common.toastInfo("Select a launchType for this workflow.");else if("periodic"===n&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow.");else if("cron"===n&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow.");else if("periodic"===n&&""!==document.getElementById("wfperiod").value){let n=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+n,function(t){t===!0?B(e):Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss")},function(){},x)}else if("cron"===n&&""!==document.getElementById("wfcronexp").value){let n=document.getElementById("wfcronexp").value,o=encodeURIComponent(n);Common.get(t+"/isCronExpressionValid?e="+o,function(t){t===!0?B(e):confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")},function(){},x)}else B(e)}}else Common.toastInfo("Enter a valid workflow id.")}else B(e)},document.getElementById("rightswitch").onclick=function(){Common.get(t+"/graphXml/"+(fe.WorkflowInfo.Id?fe.WorkflowInfo.Id:0),function(e){function n(){let t=e,n='<Workflow xmlns="urn:wexflow-schema" id="'+fe.WorkflowInfo.Id+'" name="'+fe.WorkflowInfo.Name+'" description="'+fe.WorkflowInfo.Description+'">\r\n';if(n+='\t<Settings>\r\n\t\t<Setting name="launchType" value="'+I(fe.WorkflowInfo.LaunchType)+'" />'+(""!==fe.WorkflowInfo.Period&&"00:00:00"!==fe.WorkflowInfo.Period?'\r\n\t\t<Setting name="period" value="'+fe.WorkflowInfo.Period+'" />':"")+(""!==fe.WorkflowInfo.CronExpression&&null!==fe.WorkflowInfo.CronExpression?'\r\n\t\t<Setting name="cronExpression" value="'+fe.WorkflowInfo.CronExpression+'" />':"")+'\r\n\t\t<Setting name="enabled" value="'+fe.WorkflowInfo.IsEnabled+'" />\r\n\t\t<Setting name="approval" value="'+fe.WorkflowInfo.IsApproval+'" />\r\n\t\t<Setting name="enableParallelJobs" value="'+fe.WorkflowInfo.EnableParallelJobs+'" />\r\n\t</Settings>\r\n',fe.WorkflowInfo.LocalVariables.length>0){n+="\t<LocalVariables>\r\n";for(let e=0;e<fe.WorkflowInfo.LocalVariables.length;e++)""!==fe.WorkflowInfo.LocalVariables[e].Key&&(n+='\t\t<Variable name="'+fe.WorkflowInfo.LocalVariables[e].Key+'" value="'+fe.WorkflowInfo.LocalVariables[e].Value+'" />\r\n');n+="\t</LocalVariables>\r\n"}else n+="\t<LocalVariables />\r\n";if(fe.Tasks.length>0){n+="\t<Tasks>\r\n";for(let e=0;e<fe.Tasks.length;e++){let t=fe.Tasks[e];n+='\t\t<Task id="'+t.Id+'" name="'+t.Name+'" description="'+t.Description+'" enabled="'+t.IsEnabled+'">\r\n';for(let e=0;e<t.Settings.length;e++){let o=t.Settings[e];n+='\t\t\t<Setting name="'+o.Name+'" value="'+o.Value+'" />\r\n'}n+="\t\t</Task>\r\n"}n+="\t</Tasks>\r\n"}else n+="\t<Tasks />\r\n";return"<ExecutionGraph />"!==t&&(n+=t+"\r\n"),n+="</Workflow>"}if(he===!0){let e=document.getElementById("wfid").value;if(C(e)){let o=parseInt(e);if(Q===!0)Common.get(t+"/isWorkflowIdValid/"+o,function(e){if(e===!0)if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let e=document.getElementById("wflaunchtype").value;if(""===e)Common.toastInfo("Select a launchType for this workflow.");else if("periodic"===e&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow.");else if("cron"===e&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow.");else if("periodic"===e&&""!==document.getElementById("wfperiod").value){let e=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+e,function(e){e===!0?T(n()):Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss")},function(){},x)}else if("cron"===e&&""!==document.getElementById("wfcronexp").value){let e=document.getElementById("wfcronexp").value,o=encodeURIComponent(e);Common.get(t+"/isCronExpressionValid?e="+o,function(e){e===!0?T(n()):confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")},function(){},x)}else T(n())}else Common.toastInfo("The workflow id is already in use. Enter another one.")},function(){},x);else if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let e=document.getElementById("wflaunchtype").value;if(""===e)Common.toastInfo("Select a launchType for this workflow.");else if("periodic"===e&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow.");else if("cron"===e&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow.");else if("periodic"===e&&""!==document.getElementById("wfperiod").value){let e=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+e,function(e){e===!0?T(n()):Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss")},function(){},x)}else if("cron"===e&&""!==document.getElementById("wfcronexp").value){let e=document.getElementById("wfcronexp").value,o=encodeURIComponent(e);Common.get(t+"/isCronExpressionValid?e="+o,function(e){e===!0?T(n()):confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")},function(){},x)}else T(n())}}else Common.toastInfo("Enter a valid workflow id.")}else T(n())},function(){},x)};let ve=null,we=null;document.getElementById("browse").onclick=function(){S()},document.getElementById("export").onclick=function(){we&&we.destroy(),ve&&ve.destroy();we=new jBox("Modal",{width:800,height:120,title:"Export",overlay:!0,isolateScroll:!1,content:document.getElementById("exportmodal").innerHTML,footer:'<div id="exportworkflow">Export</div>',delayOpen:0}),we.open(),document.getElementById("exportworkflow").onclick=function(){let e=document.getElementsByClassName("jBox-content")[0].childNodes[3].value;if("json"===e){let e=function(){O(JSON.stringify(fe,null,"\t"),"workflow-"+document.getElementById("wfid").value+".json","application/json"),we.close()},n=document.getElementById("wfid").value;if(C(n)){let o=parseInt(n);if(Q===!0)Common.get(t+"/isWorkflowIdValid/"+o,function(n){if(n===!0)if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow."),we.close();else{let n=document.getElementById("wflaunchtype").value;if(""===n)Common.toastInfo("Select a launchType for this workflow."),we.close();else if("periodic"===n&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow."),we.close();else if("cron"===n&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow."),we.close();else if("periodic"===n&&""!==document.getElementById("wfperiod").value){let n=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+n,function(t){t===!0?e():(Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss"),we.close())},function(){},x)}else if("cron"===n&&""!==document.getElementById("wfcronexp").value){let n=document.getElementById("wfcronexp").value,o=encodeURIComponent(n);Common.get(t+"/isCronExpressionValid?e="+o,function(t){t===!0?e():(we.close(),confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling"))},function(){},x)}else e()}else Common.toastInfo("The workflow id is already in use. Enter another one.")},function(){},x);else if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow.");else{let n=document.getElementById("wflaunchtype").value;if(""===n)Common.toastInfo("Select a launchType for this workflow."),we.close();else if("periodic"===n&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow."),we.close();else if("cron"===n&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow."),we.close();else if("periodic"===n&&""!==document.getElementById("wfperiod").value){let n=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+n,function(t){t===!0?e():(Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss"),we.close())},function(){},x)}else if("cron"===n&&""!==document.getElementById("wfcronexp").value){let n=document.getElementById("wfcronexp").value,o=encodeURIComponent(n);Common.get(t+"/isCronExpressionValid?e="+o,function(t){t===!0?e():(we.close(),confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling"))},function(){},x)}else e()}}else Common.toastInfo("Enter a valid workflow id."),we.close()}else if("xml"===e){let e=function(){ye===!0?(O(G.getValue(),"workflow-"+document.getElementById("wfid").value+".xml","text/xml"),we.close()):Common.get(t+"/graphXml/"+fe.WorkflowInfo.Id,function(e){let t=e,n='<Workflow xmlns="urn:wexflow-schema" id="'+fe.WorkflowInfo.Id+'" name="'+fe.WorkflowInfo.Name+'" description="'+fe.WorkflowInfo.Description+'">\r\n';if(n+='\t<Settings>\r\n\t\t<Setting name="launchType" value="'+I(fe.WorkflowInfo.LaunchType)+'" />'+(""!==fe.WorkflowInfo.Period&&"00:00:00"!==fe.WorkflowInfo.Period?'\r\n\t\t<Setting name="period" value="'+fe.WorkflowInfo.Period+'" />':"")+(""!==fe.WorkflowInfo.CronExpression&&null!==fe.WorkflowInfo.CronExpression?'\r\n\t\t<Setting name="cronExpression" value="'+fe.WorkflowInfo.CronExpression+'" />':"")+'\r\n\t\t<Setting name="enabled" value="'+fe.WorkflowInfo.IsEnabled+'" />\r\n\t\t<Setting name="approval" value="'+fe.WorkflowInfo.IsApproval+'" />\r\n\t\t<Setting name="enableParallelJobs" value="'+fe.WorkflowInfo.EnableParallelJobs+'" />\r\n\t</Settings>\r\n',fe.WorkflowInfo.LocalVariables.length>0){n+="\t<LocalVariables>\r\n";for(let e=0;e<fe.WorkflowInfo.LocalVariables.length;e++)n+='\t\t<Variable name="'+fe.WorkflowInfo.LocalVariables[e].Key+'" value="'+fe.WorkflowInfo.LocalVariables[e].Value+'" />\r\n';n+="\t</LocalVariables>\r\n"}else n+="\t<LocalVariables />\r\n";if(fe.Tasks.length>0){n+="\t<Tasks>\r\n";for(let e=0;e<fe.Tasks.length;e++){let t=fe.Tasks[e];n+='\t\t<Task id="'+t.Id+'" name="'+t.Name+'" description="'+t.Description+'" enabled="'+t.IsEnabled+'">\r\n';for(let e=0;e<t.Settings.length;e++){let o=t.Settings[e];""!==o.Value&&(n+='\t\t\t<Setting name="'+o.Name+'" value="'+o.Value+'" />\r\n')}n+="\t\t</Task>\r\n"}n+="\t</Tasks>\r\n"}else n+="\t<Tasks />\r\n";"<ExecutionGraph />"!==t&&(n+=t+"\r\n"),n+="</Workflow>",O(n,"workflow-"+document.getElementById("wfid").value+".xml","text/xml"),we.close()},function(){},x)},n=document.getElementById("wfid").value;if(C(n)){let o=parseInt(n);if(Q===!0)Common.get(t+"/isWorkflowIdValid/"+o,function(n){if(n===!0)if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow."),we.close();else{let n=document.getElementById("wflaunchtype").value;if(""===n)Common.toastInfo("Select a launchType for this workflow."),we.close();else if("periodic"===n&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow."),we.close();else if("cron"===n&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow."),we.close();else if("periodic"===n&&""!==document.getElementById("wfperiod").value){let n=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+n,function(t){t===!0?e():(Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss"),we.close())},function(){},x)}else if("cron"===n&&""!==document.getElementById("wfcronexp").value){let n=document.getElementById("wfcronexp").value,o=encodeURIComponent(n);Common.get(t+"/isCronExpressionValid?e="+o,function(t){t===!0?e():(we.close(),confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling"))},function(){},x)}else e()}else Common.toastInfo("The workflow id is already in use. Enter another one.")},function(){},x);else if(""===document.getElementById("wfname").value)Common.toastInfo("Enter a name for this workflow."),we.close();else{let n=document.getElementById("wflaunchtype").value;if(""===n)Common.toastInfo("Select a launchType for this workflow."),we.close();else if("periodic"===n&&""===document.getElementById("wfperiod").value)Common.toastInfo("Enter a period for this workflow."),we.close();else if("cron"===n&&""===document.getElementById("wfcronexp").value)Common.toastInfo("Enter a cron expression for this workflow."),we.close();else if("periodic"===n&&""!==document.getElementById("wfperiod").value){let n=document.getElementById("wfperiod").value;Common.get(t+"/isPeriodValid/"+n,function(t){t===!0?e():(Common.toastInfo("The period format is not valid. The valid format is: dd.hh:mm:ss"),we.close())},function(){},x)}else if("cron"===n&&""!==document.getElementById("wfcronexp").value){let n=document.getElementById("wfcronexp").value,o=encodeURIComponent(n);Common.get(t+"/isCronExpressionValid?e="+o,function(t){t===!0?e():(we.close(),confirm("The cron expression format is not valid.\nRead the documentation?")&&openInNewTab("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling"))},function(){},x)}else e()}}else Common.toastInfo("Enter a valid workflow id."),we.close()}}},document.getElementById("import").onclick=function(){let e=document.getElementById("filedialog");e.click(),e.onchange=function(n){let o=n.target.files[0],i=new FormData;i.append("file",o),Common.post(t+"/upload",function(n){n>-1?(ge===!0?Common.get(t+"/json/"+n,function(e){B(JSON.stringify(e,null,"\t"))},function(){},x):ye===!0?Common.get(t+"/xml/"+n,function(e){T(e)},function(){},x):me===!0&&E(n),j(n),e.value="",Common.toastSuccess(o.name+" loaded with success.")):(e.value="",Common.toastError(o.name+" is not valid."))},function(){e.value="",Common.toastError("An error occured while uploading the file "+o.name+".")},i,x,!0)}},document.getElementById("wf-add-var").onclick=function(){let e=document.getElementsByClassName("wf-local-vars")[0],t=e.insertRow(-1),n=t.insertCell(0),o=t.insertCell(1),i=e.insertRow(-1),s=i.insertCell(0);n.innerHTML="<input class='form-control wf-var-key' type='text'>",o.innerHTML="<button type='button' class='wf-remove-var btn btn-danger'>Delete</button>",s.innerHTML="<input class='form-control wf-var-value' type='text'>",s.className="wf-value",s.colSpan=2,fe.WorkflowInfo.LocalVariables.push({Key:"",Value:""}),q("wfproplist");let r=fe.WorkflowInfo.LocalVariables.length-1;e.getElementsByClassName("wf-var-key")[r].onkeyup=function(){let e=parseInt(W(a.parentElement.parentElement)/2);fe.WorkflowInfo.LocalVariables[e].Key=this.value};let a=e.getElementsByClassName("wf-var-value")[r];a.onkeyup=function(){let e=parseInt(W(a.parentElement.parentElement)/2);fe.WorkflowInfo.LocalVariables[e].Value=this.value},e.getElementsByClassName("wf-remove-var")[r].onclick=function(){if(confirm("Are you sure you want to delete this variable?")===!0){let e=parseInt(W(a.parentElement.parentElement)/2);fe.WorkflowInfo.LocalVariables=D(fe.WorkflowInfo.LocalVariables,e),this.parentNode.parentNode.nextSibling.remove(),this.parentElement.parentElement.remove(),q("wfproplist")}return!1}}}let t=Common.trimEnd(Settings.Uri,"/"),n=document.getElementById("lnk-dashboard"),o=document.getElementById("lnk-manager"),i=document.getElementById("lnk-designer"),s=document.getElementById("lnk-history"),r=document.getElementById("lnk-users"),a=document.getElementById("lnk-profiles"),l=document.getElementById("btn-logout"),c=document.getElementById("lnk-about"),u=document.getElementById("lnk-help"),d=document.getElementById("navigation"),p=document.getElementById("leftcard"),f=document.getElementById("propwrap"),h=document.getElementById("wfclose"),m=document.getElementById("wfpropwrap"),g=document.getElementById("canvas"),y=getUser(),v="",w="",x="";if(null===y||""===y)Common.redirectToLoginPage();else{let n=JSON.parse(y);v=n.Username,w=n.Password,x="Basic "+btoa(v+":"+w),Common.get(t+"/user?username="+encodeURIComponent(n.Username),function(t){n.Password!==t.Password?Common.redirectToLoginPage():0===t.UserProfile||1===t.UserProfile?(o.style.display="inline",i.style.display="inline",r.style.display="inline",0===t.UserProfile&&(a.style.display="inline"),d.style.display="block",p.style.display="block",f.style.display="block",h.style.display="block",m.style.display="block",g.style.display="block",l.innerHTML="Logout ("+t.Username+")",e()):Common.redirectToLoginPage()},function(){},x)}};